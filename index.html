<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
<title>BloomBerry&#39;s Tech Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="canonical" href="https://BloomBerry.github.io/">

    <meta property="og:type" content="website">
<meta property="og:title" content="BloomBerry&#39;s Tech Blog">
<meta property="og:url" content="https://BloomBerry.github.io/index.html">
<meta property="og:site_name" content="BloomBerry&#39;s Tech Blog">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://bloomberry.github.io/images/og_image.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="BloomBerry&#39;s Tech Blog">
<meta name="twitter:image" content="https://bloomberry.github.io/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/css/style.css">

</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="BloomBerry&#39;s Tech Blog" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item is-active" href="/">Home</a>
                
                <a class="navbar-item" href="/archives">Archives</a>
                
                <a class="navbar-item" href="/categories">Categories</a>
                
                <a class="navbar-item" href="/tags">Tags</a>
                
                <a class="navbar-item" href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-02-25T14:26:10.000Z">2020-02-25</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    17 minutes read (About 2580 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/02/25/2020 야구 암송대회 진동센서 사용법/">2020 야구 암송대회 진동센서 사용법</a>
            
        </h1>
        <div class="content">
            <h1 id="2020-야구-암송대회-진동센서-사용법"><a href="#2020-야구-암송대회-진동센서-사용법" class="headerlink" title="2020 야구 암송대회 진동센서 사용법"></a>2020 야구 암송대회 진동센서 사용법</h1><p>Created: Feb 19, 2020 12:04 AM</p>
<h1 id="1-목적"><a href="#1-목적" class="headerlink" title="1. 목적"></a>1. 목적</h1><p>본 문서의 목적은 빛과진리교회에서 매년 진행하는 야구 성경암송대회에 사용될 “야구공 타격감지  시스템”을 구축하고, 운영하는 방법에 관한 메뉴얼을 제공하는데 있다. 문서는 다음i과 같이 구성된다.</p>
<ul>
<li>시스템 구성도<ul>
<li>센서모듈</li>
<li>통신모듈</li>
<li>운영모듈</li>
</ul>
</li>
</ul>
<h1 id="2-시스템-구성도"><a href="#2-시스템-구성도" class="headerlink" title="2. 시스템 구성도"></a>2. 시스템 구성도</h1><h2 id="1-센서모듈"><a href="#1-센서모듈" class="headerlink" title="1. 센서모듈"></a>1. 센서모듈</h2><h3 id="a-압전-센서"><a href="#a-압전-센서" class="headerlink" title="a. 압전 센서"></a>a. 압전 센서</h3><ul>
<li>피에조 진동감지센서모듈/Piezo Vibration/압전세라믹/아두이노</li>
<li>실제로는 센서부와 모듈부의 접촉이 취약하여 진동센서로 대체함</li>
<li>판매처: <a href="http://www.eduino.kr/product/detail.html?product_no=295&cate_no=27&display_group=1" target="_blank" rel="noopener">http://www.eduino.kr/product/detail.html?product_no=295&amp;cate_no=27&amp;display_group=1</a></li>
</ul>
<p><img src="2020/Untitled.png" alt="/images/2020 야구 암송대회 진동센서 사용법/Untitled.png"></p>
<ul>
<li>스펙<ul>
<li>전원: 3.3V or 5V</li>
<li>Signal : Analog Input</li>
</ul>
</li>
</ul>
<p><img src="2020/Untitled%201.png" alt="/images/2020 야구 암송대회 진동센서 사용법/Untitled%201.png"></p>
<ul>
<li>회로도<ul>
<li>참고 사이트: <a href="http://www.eduino.kr/product/detail.html?product_no=295&cate_no=27&display_group=1" target="_blank" rel="noopener">http://www.eduino.kr/product/detail.html?product_no=295&amp;cate_no=27&amp;display_group=1</a></li>
</ul>
</li>
</ul>
<p><img src="2020/Untitled%202.png" alt="/images/2020 야구 암송대회 진동센서 사용법/Untitled%202.png"></p>
<ul>
<li>실습 영상</li>
</ul>
<p><a href="https://www.youtube.com/watch?v=T-9QObiSrKw&feature=youtu.be" target="_blank" rel="noopener">https://www.youtube.com/watch?v=T-9QObiSrKw&amp;feature=youtu.be</a></p>
<ul>
<li><p>실습 코드</p>
  <figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">int ledPin = 12; // LED 출력 단자</span><br><span class="line">int led2Pin = 7; // LED 출력 단자</span><br><span class="line"></span><br><span class="line">int piezoPin = A1; // 압전센서 의 아날로그 단자</span><br><span class="line"></span><br><span class="line">int worth = 0; // 현재 측정 된 값</span><br><span class="line"></span><br><span class="line">int ledStatus = LOW;  // LED 현재 상태 (OFF)(충격 변화)</span><br><span class="line"></span><br><span class="line">int threshold = 100;</span><br><span class="line">int threshold2 = 500; // (중요) 자주 인식 되지 않는 경우 0과 1023 사이의 값을 조정하여 인식한다.</span><br><span class="line"></span><br><span class="line">void setup() &#123;</span><br><span class="line"></span><br><span class="line">pinMode(ledPin, OUTPUT); // 핀 12번 LED 출력핀 설정</span><br><span class="line"></span><br><span class="line">pinMode(led2Pin, OUTPUT); // 핀 7번 LED2 출력핀 설정</span><br><span class="line">Serial.begin(9600); // PC로 전송</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void loop() &#123; // 셋팅후 연속적 실행</span><br><span class="line"></span><br><span class="line">worth = analogRead(piezoPin); // A1 핀 값을 판독</span><br><span class="line"></span><br><span class="line">if (worth &gt;= threshold) &#123; // 임계 값 초과시 이벤트 발생</span><br><span class="line">ledStatus = !ledStatus; // LED 상태 (1/0 =시작/종료)</span><br><span class="line">digitalWrite(ledPin, ledStatus); // 핀 12번 으로 실행</span><br><span class="line">if (worth &gt;= threshold2)</span><br><span class="line">ledStatus = !ledStatus; // LED 상태 (1/0 =시작/종료)</span><br><span class="line">digitalWrite(led2Pin, ledStatus); // 핀 7번 으로 실행</span><br><span class="line">Serial.println(worth); // PC로 값 보내기</span><br><span class="line"></span><br><span class="line">delay(200);</span><br><span class="line">&#125;</span><br><span class="line">delay(10); //  시리얼 모니터 프린팅 시간</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




</li>
</ul>
<h3 id="b-진동센서"><a href="#b-진동센서" class="headerlink" title="b. 진동센서"></a>b. 진동센서</h3><p><img src="2020/Untitled%203.png" alt="/images/2020 야구 암송대회 진동센서 사용법/Untitled%203.png"></p>
<ul>
<li>충격센서/진동센서 모듈 (SW-18010P)</li>
<li>센서가 부착된 위치의 진동을 감지하는 센서</li>
<li>감도조절부를 조절하며 진동의 감도를 원하는 크기로 조절 가능</li>
<li>DO핀은 미사용</li>
<li>기본 1023~1022값을 출력하며, 진동을 하게되면 감소하게되는 센서<ul>
<li>진동 판단 기준치 : 1,000 (실제 사용한 기본값)</li>
</ul>
</li>
<li>site: <a href="http://www.eduino.kr/product/detail.html?product_no=289&cate_no=27" target="_blank" rel="noopener">http://www.eduino.kr/product/detail.html?product_no=289&amp;cate_no=27</a></li>
<li>작동 원리</li>
</ul>
<p><img src="2020/_2020-02-25_21-44-06.png" alt="/images/2020 야구 암송대회 진동센서 사용법/_2020-02-25_21-44-06.png"></p>
<ul>
<li>회로도</li>
</ul>
<p><img src="2020/_2020-02-25_21-48-26.png" alt="/images/2020 야구 암송대회 진동센서 사용법/_2020-02-25_21-48-26.png"></p>
<ul>
<li><p>예제 코드  </p>
<pre><code>int LED = 9;            // LED의 핀 번호

void setup(){  
  Serial.begin(9600);    // 시리얼 통신, 속도는 9600
}

void loop(){  
    int val = analogRead(A0);          // 충격 센서의 데이터 받아오기   
    if (val &lt; 1000){
  Serial.print(&quot;Vibration Detected: &quot;);
  Serial.println(val);
}
else{
  Serial.print(&quot;No Vibration: &quot;);
  Serial.println(val);
}    
delay(300);   
}</code></pre></li>
</ul>
<h2 id="2-통신모듈"><a href="#2-통신모듈" class="headerlink" title="2. 통신모듈"></a>2. 통신모듈</h2><ul>
<li>아두이노 이더넷 Ethernet W5100 micro SD소켓 쉴드</li>
<li>위 통신모듈은 이더넷 통신을 지원함 (서버-클라이언트)<ul>
<li>Server : 아두이노+w5100</li>
<li>Client : PC상에서 IP주소를  explorer에 입력하여 Client로 서버에 연결</li>
</ul>
</li>
<li>필요한 기기: 라우터 (공유기), 아두이노 우노</li>
<li>필요한 정보: 라우터 맥 주소, IP</li>
<li>작동 원리: 아두이노+w5100이 서버가 되어 공유기에 이더넷으로 연결시키면, 공유기가 서버의 고유 IP주소를 자동으로 생성시켜줌. 이 공유기에 연결된 PC는 서버와 이더넷 통신이 가능하며, (Local Ethernet 통신) 서버의 IP주소로 explorer를 활용하여 접근 하면 Client가 되어 서버의 정보를 받아올 수 있음.</li>
</ul>
<p><img src="2020/_2020-02-25_22-13-24.png" alt="/images/2020 야구 암송대회 진동센서 사용법/_2020-02-25_22-13-24.png"></p>
<ul>
<li>판매처: <a href="http://shopping.interpark.com/product/productInfo.do?prdNo=4922988714&gclid=CjwKCAiA1rPyBRAREiwA1UIy8I-_vCNpD-NdJEn_sf_oYi4r3qvmCi8Fqj3roZMTUHbCRbNFhML8XRoCsIQQAvD_BwE" target="_blank" rel="noopener">http://shopping.interpark.com/product/productInfo.do?prdNo=4922988714&amp;gclid=CjwKCAiA1rPyBRAREiwA1UIy8I-_vCNpD-NdJEn_sf_oYi4r3qvmCi8Fqj3roZMTUHbCRbNFhML8XRoCsIQQAvD_BwE</a></li>
</ul>
<p><img src="2020/_2020-02-19_21-44-36.png" alt="/images/2020 야구 암송대회 진동센서 사용법/_2020-02-19_21-44-36.png"></p>
<ul>
<li><p>코드</p>
<ul>
<li><p>서버 IP주소 Echo 예제</p>
<ul>
<li>아래 코드로부터 서버의 IP주소를 알 수 있다.</li>
</ul>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;SPI.h&gt;</span><br><span class="line">#include &lt;Ethernet.h&gt;</span><br><span class="line"></span><br><span class="line">// Enter a MAC address for your controller below.</span><br><span class="line">// Newer Ethernet shields have a MAC address printed on a sticker on the shield</span><br><span class="line">byte mac[] = &#123;</span><br><span class="line">0x74,0x69,0x69,0x2D,0x30,0x5&#125;;</span><br><span class="line"></span><br><span class="line">// Initialize the Ethernet client library</span><br><span class="line">// with the IP address and port of the server</span><br><span class="line">// that you want to connect to (port 80 is default for HTTP):</span><br><span class="line">EthernetClient client;</span><br><span class="line"></span><br><span class="line">void setup() &#123;</span><br><span class="line">// Open serial communications and wait for port to open:</span><br><span class="line">Serial.begin(9600);</span><br><span class="line">// this check is only needed on the Leonardo:</span><br><span class="line">while (!Serial) &#123;</span><br><span class="line">; // wait for serial port to connect. Needed for native USB port only</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// start the Ethernet connection:</span><br><span class="line">if (Ethernet.begin(mac) == 0) &#123;</span><br><span class="line">Serial.println(&quot;Failed to configure Ethernet using DHCP&quot;);</span><br><span class="line">// no point in carrying on, so do nothing forevermore:</span><br><span class="line">for (;;)</span><br><span class="line">;</span><br><span class="line">&#125;</span><br><span class="line">// print your local IP address:</span><br><span class="line">printIPAddress();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void loop() &#123;</span><br><span class="line"></span><br><span class="line">switch (Ethernet.maintain())</span><br><span class="line">&#123;</span><br><span class="line">case 1:</span><br><span class="line">//renewed fail</span><br><span class="line">Serial.println(&quot;Error: renewed fail&quot;);</span><br><span class="line">break;</span><br><span class="line"></span><br><span class="line">case 2:</span><br><span class="line">//renewed success</span><br><span class="line">Serial.println(&quot;Renewed success&quot;);</span><br><span class="line"></span><br><span class="line">//print your local IP address:</span><br><span class="line">printIPAddress();</span><br><span class="line">break;</span><br><span class="line"></span><br><span class="line">case 3:</span><br><span class="line">//rebind fail</span><br><span class="line">Serial.println(&quot;Error: rebind fail&quot;);</span><br><span class="line">break;</span><br><span class="line"></span><br><span class="line">case 4:</span><br><span class="line">//rebind success</span><br><span class="line">Serial.println(&quot;Rebind success&quot;);</span><br><span class="line"></span><br><span class="line">//print your local IP address:</span><br><span class="line">printIPAddress();</span><br><span class="line">break;</span><br><span class="line"></span><br><span class="line">default:</span><br><span class="line">//nothing happened</span><br><span class="line">break;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void printIPAddress()</span><br><span class="line">&#123;</span><br><span class="line">Serial.print(&quot;My IP address: &quot;);</span><br><span class="line">for (byte thisByte = 0; thisByte &lt; 4; thisByte++) &#123;</span><br><span class="line">// print the value of each byte of the IP address:</span><br><span class="line">Serial.print(Ethernet.localIP()[thisByte], DEC);</span><br><span class="line">Serial.print(&quot;.&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Serial.println();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">- 진동센서 띄우는 서버 예제</span><br></pre></td></tr></table></figure>

<pre><code>int VibrationPin = A1;
int led2Pin = 7;
int threshold2 = 1000;
#include &lt;Wire.h&gt;
#include &lt;SPI.h&gt;
#include &lt;Ethernet.h&gt;

byte mac[] = {  0xBC,0x96,0x80,0xA3,0xB2,0xF3};
//IPAddress ip(192,168,219,100);
IPAddress ip(192,168,219,31);
// IP 주소는 &quot; XXX,XXX,XXX,XXX &quot; &apos;,&apos; 주의해주세요.
// 이더넷 라이브러리 초기화
// 사용할 IP 주소 와 포트 입력
// (&apos;port 80&apos; 은 HTTP 의 기본 값 입니다.):
EthernetServer server(80);

void client();

void setup() {

// Open serial communications and wait for port to open:
Serial.begin(9600);
while (!Serial) {
; // 포트 연결까지 기다리기. 레오나르도 에만 필요합니다.
}

// 이더넷 서버 연결 시작:
Ethernet.begin(mac, ip);
server.begin();

Serial.print(&quot;server is at &quot;);
Serial.println(Ethernet.localIP());
}

void loop() {
EthernetClient client = server.available();
if (client) {
  Serial.println(&quot;new client&quot;);
// an http request ends with a blank line
boolean currentLineIsBlank = true;
while (client.connected()) {
if (client.available()) {
char c = client.read();
Serial.write(c);
// if you&apos;ve gotten to the end of the line (received a newline
// character) and the line is blank, the http request has ended,
// so you can send a reply
if (c == &apos;n&apos; &amp;&amp; currentLineIsBlank) {
// send a standard http response header
client.println(&quot;HTTP/1.1 200 OK&quot;);
client.println(&quot;Content-Type: text/html&quot;);
client.println(&quot;Connnection: close&quot;);
client.println();
//client.println(&quot;&lt;!DOCTYPE HTML&gt;&quot;);
//client.println(&quot;&lt;html&gt;&quot;);
//// 브라우저 5초마다 새로고침
//client.println(&quot;&lt;meta http-equiv=\&quot;refresh\&quot; content=\&quot;5\&quot;&gt;&quot;);
//client.println(&quot;&lt;title&gt;&quot;);
//client.print(&quot;Welcome EDUINO&quot;);
//client.println(&quot;&lt;/title&gt;&quot;);
int worth = 0;
// Vibration sensor 값 출력
worth = analogRead(VibrationPin);
client.write(worth);
Serial.print(worth);
//client.println(&quot;&lt;center&gt;&quot;);
//client.println(&quot;&lt;h1&gt;&quot;);
//client.print(&quot;EDUINO Office&quot;);
//client.println(&quot;&lt;/h1&gt;&quot;);
//client.println(&quot;&lt;h2&gt;&quot;);
//client.print(&quot;Sensor Output Requested&quot;);
//client.println(&quot;&lt;/h2&gt;&quot;);
//client.println(&quot;&lt;h4&gt;&quot;);
//client.print(&quot;Pressure : &quot;);
client.println(worth);
//client.print(&quot;&lt;sup&gt;0&lt;/sup&gt;&quot;);
//client.print(&quot;C&quot;);
//client.println(&quot;&lt;br /&gt;&quot;);
//client.println(&quot;&lt;/h4&gt;&quot;);
//client.println(&quot;&lt;/center&gt;&quot;);

//client.println(&quot;&lt;/html&gt;&quot;);
break;
}
if (c == &apos;n&apos;) {
currentLineIsBlank = true;
}
else if (c != &apos;r&apos;) {
currentLineIsBlank = false;
}
}
Serial.print(&quot;6&quot;);
}
//브라우저 데이터 받는 시간
delay(1);
//연결 종료:
client.stop();
Serial.println(&quot;client disonnected&quot;);
}
}
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">​    </span><br><span class="line"></span><br><span class="line">## 3. 운영모듈</span><br><span class="line"></span><br><span class="line">운영모듈이라 함은, 원하는 목적지(야구대회 진행하는 Client측)에 진동 센서로 받은 데이터를 통신모듈을 거쳐 전달하는 모듈을 말한다. 운영 모듈은 다음과 같이 구성된다.</span><br><span class="line"></span><br><span class="line">- 데이터 파싱부</span><br><span class="line">    - 데이터 파싱부는, 서버로부터 원하는 정보 (센서정보)를 받아오는 부분을 말한다.</span><br><span class="line">    </span><br><span class="line">    - 이더넷 통신으로 Client가 되어 서버로부터 정보를 받아온다.</span><br><span class="line">    </span><br><span class="line">- 예제코드</span><br><span class="line">        - 진동이 발생한 경우 ( Sensor Input &lt; Threshold)에만 서버로부터 정보를 요청하는 코드</span><br></pre></td></tr></table></figure>

    #include &lt;Wire.h&gt;
    #include &lt;SPI.h&gt;
    #include &lt;Ethernet.h&gt;

    byte mac[] = {  0xBC,0x96,0x80,0xA3,0xB2,0xF3};
    //IPAddress ip(192,168,219,100);
    IPAddress ip(192,168,219,31);
    // IP 주소는 &quot; XXX,XXX,XXX,XXX &quot; &apos;,&apos; 주의해주세요.
    // 이더넷 라이브러리 초기화
    // 사용할 IP 주소 와 포트 입력
    // (&apos;port 80&apos; 은 HTTP 의 기본 값 입니다.):
    EthernetServer server(80);

    void client();

    void setup() {

    // Open serial communications and wait for port to open:
    Serial.begin(9600);
    while (!Serial) {
    ; // 포트 연결까지 기다리기. 레오나르도 에만 필요합니다.
    }

    // 이더넷 서버 연결 시작:
    Ethernet.begin(mac, ip);
    server.begin();

    Serial.print(&quot;server is at &quot;);
    Serial.println(Ethernet.localIP());
    }

    void loop() {
      int val = analogRead(A0);          // 충격 센서의 데이터 받아오기
      if (val &lt; 1000){
          Serial.print(&quot;Vibration Detected: &quot;);
          Serial.println(val);
        }
        else{
          Serial.print(&quot;No Vibration: &quot;);
          // Piezo sensor 값 출력
          Serial.println(val);
        }
      delay(100); //진동센서 노이즈 제거하는 기능

    //Serial.print(&quot;1&quot;);
    EthernetClient client = server.available();
    //Serial.print(&quot;2&quot;);
    if (client) {
    //  Serial.print(&quot;3&quot;);
    //Serial.println(&quot;new client&quot;);
    // an http request ends with a blank line
    boolean currentLineIsBlank = true;
    while (client.connected()) {
    //  Serial.print(&quot;4&quot;);
    if (client.available()) {
    //  Serial.print(&quot;5&quot;);
    char c = client.read();
    Serial.write(c);
    // if you&apos;ve gotten to the end of the line (received a newline
    // character) and the line is blank, the http request has ended,
    // so you can send a reply
    if (c == &apos;n&apos; &amp;&amp; currentLineIsBlank) {
    // send a standard http response header
    client.println(&quot;HTTP/1.1 200 OK&quot;);
    client.println(&quot;Content-Type: text/html&quot;);
    client.println(&quot;Connnection: close&quot;);
    client.println();

    if (val &lt; 1000){
    //  client.write(val);
      client.println(val);
    //  Serial.println(val);
    }
    else{
      client.println(val);
    //  Serial.println(val);
    }
    break;
    }
    if (c == &apos;n&apos;) {
    currentLineIsBlank = true;
    }
    else if (c != &apos;r&apos;) {
    currentLineIsBlank = false;
    }
    }
    //Serial.print(&quot;6&quot;);
    }
    //브라우저 데이터 받는 시간
    delay(1);
    //연결 종료:
    client.stop();
    Serial.println(&quot;client disonnected&quot;);
}
    }
    <figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">        </span><br><span class="line">        </span><br><span class="line">    </span><br><span class="line">- 데이터 송신부</span><br><span class="line">    - Web socket 통신으로 야구대회 진행진에게 정보를 전달하는 서버를 띄우는 역할을 한다.</span><br><span class="line">    - Web socket 통신이므로 쌍방향 통신이 가능하다. (만, 여기선 일방향 통신만 사용함)</span><br><span class="line">    - 예제코드 (파이썬)</span><br><span class="line">        - 디버깅 목적으로 Client 코드도 사용함</span><br><span class="line">        - Web Socket 서버부</span><br><span class="line">            - 참고 사이트: [https://websockets.readthedocs.io/en/stable/intro.html](https://websockets.readthedocs.io/en/stable/intro.html)</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">        #!/usr/bin/env python</span><br><span class="line">        </span><br><span class="line">        # WS server example</span><br><span class="line">        import socket</span><br><span class="line">        import asyncio</span><br><span class="line">        import websockets</span><br><span class="line">        import requests</span><br><span class="line">        import time</span><br><span class="line">        </span><br><span class="line">        URL = &apos;http://192.168.219.31:80&apos;</span><br><span class="line">        </span><br><span class="line">        async def hello(websocket, path):</span><br><span class="line">            print(&quot;try to request: &quot;, URL)</span><br><span class="line">        </span><br><span class="line">            while True:</span><br><span class="line">                response = requests.get(URL)</span><br><span class="line">                vibration = response.text</span><br><span class="line">                if response.status_code == 200:</span><br><span class="line">        #            print(&quot;response text: &quot;, response.text)</span><br><span class="line">                    if int(vibration) &lt; 1000:</span><br><span class="line">                        print(&quot;Vibration Accured: &quot;, vibration)</span><br><span class="line">                        await websocket.send(&quot;1&quot;)</span><br><span class="line">        #                time.sleep(0.2)</span><br><span class="line">                    else:</span><br><span class="line">                        print(&quot;No Vibration: &quot;, vibration)</span><br><span class="line">                else:</span><br><span class="line">                    print(&quot;failed&quot;)</span><br><span class="line">                    print(response)</span><br><span class="line">        </span><br><span class="line">        #start_server = websockets.serve(hello, &quot;192.168.219.609&quot;, 8765)</span><br><span class="line">        #start_server = websockets.serve(hello, &quot;192.168.219.182&quot;, 8765)</span><br><span class="line">        start_server = websockets.serve(hello, &quot;192.168.219.140&quot;, 8765)</span><br><span class="line">        #print(start_server.keys())</span><br><span class="line">        asyncio.get_event_loop().run_until_complete(start_server)</span><br><span class="line">        asyncio.get_event_loop().run_forever()</span><br><span class="line"></span><br><span class="line">- Web Socket Client</span><br><span class="line">    - 참고 사이트: [https://websockets.readthedocs.io/en/stable/intro.html](https://websockets.readthedocs.io/en/stable/intro.html)</span><br></pre></td></tr></table></figure>

    #!/usr/bin/env python

    # WS client example

    import asyncio
    import websockets

    async def hello():
        #uri = &quot;ws://localhost:8765&quot;
        #uri = &quot;ws://192.168.219.182:8765&quot;
        uri = &quot;ws://192.168.219.140:8765&quot;
        async with websockets.connect(uri) as websocket:
    #        name = &quot;dd&quot;
    #        await websocket.send(name)

            greeting = await websocket.recv()
            print(f&quot;&lt; &quot;, greeting)

    <figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">asyncio.get_event_loop().run_until_complete(hello())</span><br></pre></td></tr></table></figure></code></pre><ul>
<li>시연 영상</li>
</ul>
<p><a href="2020/__200224.mp4">/images/2020 야구 암송대회 진동센서 사용법/__200224.mp4</a></p>
<h2 id="4-향후-계획"><a href="#4-향후-계획" class="headerlink" title="4. 향후 계획"></a>4. 향후 계획</h2><ul>
<li>실제 야구공-막대지지대에 부착된 상태로 진동센서의 민감도를 조정하여, 오검출/미검출 사례 예방</li>
<li>렌선을 10m짜리로 확보하여 야구공-막대지지대 근처에 아두이노를 설치화고, 운영모듈과 연결될 수 있도록 조치함.</li>
<li>예비 연습</li>
</ul>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-11-02T02:37:00.000Z">2019-11-02</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 minutes read (About 485 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/11/02/Gradient-Harmonized-SSD-Tutorial/">Gradient-Harmonized-SSD-Tutorial</a>
            
        </h1>
        <div class="content">
            <h1 id="Gradient-Harmonized-SSD-실습"><a href="#Gradient-Harmonized-SSD-실습" class="headerlink" title="Gradient Harmonized SSD 실습"></a>Gradient Harmonized SSD 실습</h1><p>Created: Oct 30, 2019 8:05 AM<br>Tags: 실습</p>
<h1 id="MMdetection-API"><a href="#MMdetection-API" class="headerlink" title="MMdetection API"></a>MMdetection API</h1><h2 id="저자-소개-및-수상-경력"><a href="#저자-소개-및-수상-경력" class="headerlink" title="저자 소개 및 수상 경력"></a>저자 소개 및 수상 경력</h2><ul>
<li>Multimedia Lab. The Chinese University of Hong Kong (CUHK)</li>
<li>COCO 2018 Challenge (Instance Segmentation / Object Detection task) 1등</li>
<li>COCO 2019 Challenge (Object Mask) 3등</li>
</ul>
<h2 id="API-특징"><a href="#API-특징" class="headerlink" title="API 특징"></a>API 특징</h2><ul>
<li><p>학습 및 테스트하는 툴 제공</p>
<ul>
<li><a href="https://github.com/open-mmlab/mmdetection" target="_blank" rel="noopener">https://github.com/open-mmlab/mmdetection</a></li>
<li>테스트: tools/test.py</li>
</ul>
</li>
<li><p>학습에 필요한 기능이 모듈별로 세분화</p>
<ul>
<li>datasets: build_dataset으로 타겟 데이터셋 loader 호출</li>
<li>models: build_detector로 타겟 물체인식 모델 호출</li>
<li>apis<ul>
<li>init_dist: mpi, pytorch,등 학습 back-end engine 지정</li>
<li>train_detector: 분산학습 유무, logging 유무 지정</li>
<li></li>
<li>get_random_seed: 임의 초기 Seed 값 호출</li>
<li>get_root_logger: working directory 경로, 데이터셋 경로 등 지정</li>
</ul>
</li>
</ul>
</li>
<li><p>Argument: 학습 환경에 맞는 argument를 쉽게 바꾸도록 함</p>
<ul>
<li>gpu: GPU 갯수 지정</li>
<li>workdir: 학습된 모델 weight, log 저장소</li>
<li>resume_from: pretrained weight 호출경로</li>
</ul>
</li>
</ul>
<h2 id="Training"><a href="#Training" class="headerlink" title="Training"></a>Training</h2><h3 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h3><ul>
<li>Nvidia GPU P-100 8대<ul>
<li>nccl back-end</li>
</ul>
</li>
<li>Batch size = 2</li>
</ul>
<h3 id="Hyerparameter"><a href="#Hyerparameter" class="headerlink" title="Hyerparameter"></a>Hyerparameter</h3><ul>
<li>GHM-C Loss<ul>
<li>M (number of Unit Region) = 30</li>
</ul>
</li>
<li>GHM-R Loss (ASL1 loss)<ul>
<li>mu : 0.02</li>
</ul>
</li>
<li>Image size: 1333 by 800 (paper just mentioned 800)</li>
<li>Optimizer : SGD<ul>
<li>learning rate: 0.01 → 0.001 (9epoch) → 0.0001 (12epoch) step decay w/ warm-up</li>
</ul>
</li>
<li>epoch: 14</li>
</ul>
<h3 id="Network"><a href="#Network" class="headerlink" title="Network"></a>Network</h3><ul>
<li>baseNet: ResNext-101 w/ 64</li>
<li>neck: same as RetinaNet (FPN)</li>
<li>bbox head: same as RetinaNet</li>
</ul>
<h3 id="Dataset"><a href="#Dataset" class="headerlink" title="Dataset"></a>Dataset</h3><ul>
<li>MsCOCO 2017<ul>
<li>train 122k</li>
<li>val 5K</li>
</ul>
</li>
</ul>
<h2 id="E-T-C"><a href="#E-T-C" class="headerlink" title="E.T.C."></a>E.T.C.</h2><ul>
<li>mmcv error<ul>
<li>mmcv: pip install -e</li>
<li>mmcv Path PYTHONPATH 추가</li>
</ul>
</li>
<li>mmdet error “ImportError: cannot import name ‘deform_conv_cuda”<ul>
<li>mmdet: python setup.py install → build → develop</li>
</ul>
</li>
</ul>
<h3 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h3><ul>
<li>MsCOCO Eval Dataset</li>
<li>Epoch: 9 epoch (Same as the paper)</li>
<li>Conf. Threshold : 0.05 → 0.1<ul>
<li>Max nms_Pre : 1,000 → 500</li>
</ul>
</li>
</ul>
<p><img src="_screenshot_31-4b423715-2636-4892-a189-7049830f9098.10.2019.png" alt></p>
<p><img src="2_screenshot_31-a5ec1435-0ff7-4fcb-8be5-3a46d0044be1.10.2019.png" alt></p>
<p><img src="3_screenshot_31-99fcf893-b29c-400f-a36a-b663ea8c1976.10.2019.png" alt></p>
<p><img src="4_screenshot_31-e4390d19-9521-48c9-8480-b1ef78f39d8a.10.2019.png" alt></p>
<p><img src="5_screenshot_31-72816c61-076f-4d76-bdfa-df65f997c379.10.2019.png" alt></p>
<ul>
<li>eval</li>
</ul>
<p>Average Precision (AP) @[ IoU=0.50:0.95 | area= all | maxDets=100 ] = 0.538<br>Average Precision (AP) @[ IoU=0.50 | area= all | maxDets=100 ] = 0.745<br>Average Precision (AP) @[ IoU=0.75 | area= all | maxDets=100 ] = 0.585<br>Average Precision (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.397<br>Average Precision (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.598<br>Average Precision (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.664<br>Average Recall (AR) @[ IoU=0.50:0.95 | area= all | maxDets= 1 ] = 0.403<br>Average Recall (AR) @[ IoU=0.50:0.95 | area= all | maxDets= 10 ] = 0.637<br>Average Recall (AR) @[ IoU=0.50:0.95 | area= all | maxDets=100 ] = 0.667<br>Average Recall (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.507<br>Average Recall (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.723<br>Average Recall (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.809</p>
<p>→ 논문 대비 성능 향상 (mAP 12%)</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-19T11:45:00.000Z">2019-10-19</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    7 minutes read (About 1079 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/19/darknet-Yolo-V3-Tutorial/">darknet으로 Yolo V3 학습 Tutorial</a>
            
        </h1>
        <div class="content">
            <h1 id="darknet으로-Yolo-V3-학습-Tutorial"><a href="#darknet으로-Yolo-V3-학습-Tutorial" class="headerlink" title="darknet으로 Yolo V3 학습 Tutorial"></a>darknet으로 Yolo V3 학습 Tutorial</h1><p>Created: Oct 17, 2019 6:26 AM<br>Tags: 실습</p>
<p>이번 튜토리얼은 darknet framework을 사용하여 Yolo-v3 학습시키는 방법을 다룬다.</p>
<h1 id="1-YOLO-V3-상세-—-Feature-추출기"><a href="#1-YOLO-V3-상세-—-Feature-추출기" class="headerlink" title="1. YOLO V3 상세 — Feature 추출기:"></a>1. YOLO V3 상세 — Feature 추출기:</h1><ul>
<li>기존에 Yolo-v2에서는 Darknet-19 (19층의 CNN Layer로 구성된 baseNet)을 사용</li>
<li>Yolo-v3로 넘어오면서 Darknet-53을 사용함<ul>
<li>연속된 e 3 × 3 and 1 × 1 CNN 와 ResNet에 사용된 shortcut connections 사용</li>
<li>자세한 논문은  <a href="https://pjreddie.com/media/files/papers/YOLOv3.pdf" target="_blank" rel="noopener">여기</a> 참고</li>
</ul>
</li>
</ul>
<p><img src="https://miro.medium.com/max/303/1*7SKifRP2-eiFdZoaOLovoQ.png" alt></p>
<h1 id="2-Yolo-v3-학습-in-Darknet-amp-Pascal-VOC"><a href="#2-Yolo-v3-학습-in-Darknet-amp-Pascal-VOC" class="headerlink" title="2. Yolo v3 학습 in Darknet &amp; Pascal VOC"></a>2. <strong>Yolo v3 학습 in Darknet &amp; Pascal VOC</strong></h1><h2 id="1-Darknet-설치"><a href="#1-Darknet-설치" class="headerlink" title="1. Darknet 설치"></a>1. Darknet 설치</h2><pre><code>git clone https://github.com/pjreddie/darknet
cd darknet
make</code></pre><ul>
<li>GPU(CUDA)를 사용하려면, Makefile에서 GPU, CUDNN = 1, OPENCV = 0으로 설정 후 make</li>
</ul>
<h2 id="2-데이터셋-준비"><a href="#2-데이터셋-준비" class="headerlink" title="2. 데이터셋 준비"></a>2. 데이터셋 준비</h2><h3 id="Pascal-VOC-Dataset-Download"><a href="#Pascal-VOC-Dataset-Download" class="headerlink" title="Pascal VOC Dataset Download"></a>Pascal VOC Dataset Download</h3><pre><code>wget https://pjreddie.com/media/files/VOCtrainval_11-May-2012.tar
wget https://pjreddie.com/media/files/VOCtrainval_06-Nov-2007.tar
wget https://pjreddie.com/media/files/VOCtest_06-Nov-2007.tar
tar xf VOCtrainval_11-May-2012.tar
tar xf VOCtrainval_06-Nov-2007.tar
tar xf VOCtest_06-Nov-2007.tar</code></pre><h3 id="Text-file-생성"><a href="#Text-file-생성" class="headerlink" title="Text file 생성"></a>Text file 생성</h3><ul>
<li><p>darknet은 각 이미지마다 같은 경로에 같은 이름으로 txt파일이 필요함</p>
  <pascal voc directory structure>
  ~/JPEGImages/00001.png
  ~/JPEGImages/00002.png
  ...
  ~/labels/00001.txt
  ~/labels/00002.txt
  ...
</pascal></li>
<li><p>txt 내용: <object-class> <x> <y> <width> <height></height></width></y></x></object-class></p>
<p>  11 0.34419263456090654 0.611 0.4164305949008499 0.262<br>  14 0.509915014164306 0.51 0.9745042492917847 0.972</p>
</li>
<li><p><object-class> : [0 ~ class-1]</object-class></p>
</li>
<li><p><x> = <absolute_x> / <image_width>, <y> = <absolute_y> / <image_height>, <width> = <absolute_w> / <image_width>, <height> = <absolute_height> / <image_height></image_height></absolute_height></height></image_width></absolute_w></width></image_height></absolute_y></y></image_width></absolute_x></x></p>
</li>
<li><p>x, y는 박스의 중심점을 의미 (center-form )</p>
</li>
</ul>
<p>Example</p>
<pre><code>My Image Size: 360 * 480 it have one object ie:dog
image_width = 360
image_height = 480
absolute_x = 30 (dog x position from image)
absolute_y = 40 (dog y position from image)
absolute_height = 200 (original height of dog from image)
absolute_width = 200 (original width of dog from image)</code></pre><p>The final Text file have. It have five args and all five args between 0 to 1</p>
<pre><code>&lt;class_number&gt; (&lt;absolute_x&gt; / &lt;image_width&gt;) (&lt;absolute_y&gt; / &lt;image_height&gt;)
 (&lt;absolute_width&gt; / &lt;image_width&gt;) (&lt;absolute_height&gt; / &lt;image_height&gt;)
ie:0 (30/360) (40/480) (200/360) (200/480)0 0.0833 0.0833 0.556 0.417</code></pre><ul>
<li><p>Pascal은 위의 작업을 해주는 코드 실행하면 자동으로 txt 생성됨</p>
<p>  wget <a href="https://pjreddie.com/media/files/voc_label.py" target="_blank" rel="noopener">https://pjreddie.com/media/files/voc_label.py</a><br>  python voc_label.py</p>
</li>
</ul>
<h2 id="3-Training"><a href="#3-Training" class="headerlink" title="3. Training"></a>3. <strong>Training</strong></h2><h3 id="ImageNet-pretrained-weight-다운로드"><a href="#ImageNet-pretrained-weight-다운로드" class="headerlink" title="ImageNet pretrained weight 다운로드"></a>ImageNet pretrained weight 다운로드</h3><p><a href="https://pjreddie.com/darknet/imagenet/#darknet53" target="_blank" rel="noopener">darknet53</a> 모델의 사전학습된 weight 다운로드 <a href="https://pjreddie.com/media/files/darknet53.conv.74" target="_blank" rel="noopener">here (76 MB)</a>.</p>
<h3 id="Preparing-YOLOv3-configuration-files"><a href="#Preparing-YOLOv3-configuration-files" class="headerlink" title="Preparing YOLOv3 configuration files"></a>Preparing YOLOv3 configuration files</h3><p>YOLOv3는 3가지 파일이 있어야 학습이 가능함</p>
<p>YOLOv3 needs certain specific files to know how and what to train. We’ll be<br>creating these three files(.data, .names and .cfg) and also explain the<br>yolov3.cfg and yolov3-tiny.cfg.</p>
<ul>
<li><em>cfg/voc.data</em><ul>
<li>class 갯수, trai</li>
<li>n/validation dataset 경로 정보가 있는 텍스트 파일 주소, class 정보 (string-to-int mapping), backup (weight file 저장 경로)</li>
</ul>
</li>
</ul>
<p><img src="/images/darknet_yolov3_tutorial/Untitled-7737ca9a-3d3b-4957-9d03-ef3d50dc77e2.png" alt></p>
<ul>
<li><em>data/voc.names</em><ul>
<li>클래스 이름 (순서 중요)</li>
</ul>
</li>
</ul>
<p><img src="/images/darknet_yolov3_tutorial/Untitled-38225e1f-41a6-4a03-83c3-4a892759b9cf.png" alt></p>
<ul>
<li>cfg/yolov3.cfg<ul>
<li>Network 학습에 필요한 hyper-parameter, Network 구조 정의된 파일</li>
<li>GPU ≥ 2이면 yolov3.cfg 사용. 그 이하이면 tiny-yolo.cfg 사용(GPU 2GB 미만)</li>
</ul>
</li>
<li><input disabled type="checkbox"> Step 1: (tiny-yolo.cfg 인 경우)</li>
</ul>
<p>i) yolov3-tiny.cfg를 복사해서 yolo3-tiny-voc.cfg 로 저장</p>
<pre><code>/YoloExample/darknet-v3/cfg$ cp yolov3-tiny.cfg yolov3-tiny-voc.cfg</code></pre><p>아래 변수를 바꿔준다.</p>
<ul>
<li>Line 3: set <code>batch=64</code>, 매  step마다 64개 이미지를 학습한다는 의미</li>
<li>Line 4: set <code>subdivisions=16</code>, batch는 16만큼 나뉘어져  GPU VRAM 요구사항을 만족시키며 학습.</li>
<li>Line 127: set <code>filters=(classes + 5)*3</code> 여기선 <code>filters=75</code></li>
<li>Line 135: set <code>classes=20</code>, 학습할 클래스 갯수</li>
<li>Line 171: set <code>filters=(classes + 5)*3</code> 여기선 <code>filters=75</code></li>
<li>Line 177: set <code>classes=20</code>, 학습할 클래스 갯수</li>
</ul>
<p><strong>Start the Trianing with follow the step 1:</strong></p>
<p>train.txt파일을 루트 경로에 복사한 후 아래 명령어 실행</p>
<pre><code>~/YoloExample/darknet-v3$./darknet detector train cfg/voc.data cfg/yolov3-tiny.cfg darknet53.conv.74</code></pre><p>OUTPUT:</p>
<p><img src="https://miro.medium.com/max/1185/1*auiui6guPcua5Io3OEgPrA.png" alt></p>
<ul>
<li><input disabled type="checkbox"> Step 2: (yolov3.cfg 일 경우)</li>
</ul>
<p>i)yolov3.cfg 복사해서 yolov3-voc.cfg 생성</p>
<pre><code>:~/YoloExample/darknet-v3$ cd ~/YoloExample/darknet-v3/cfg$ cp yolov3.cfg yolov3-voc.cfg</code></pre><p>아래 변수를 바꿔준다.</p>
<ul>
<li>Line 3: set <code>batch=24</code>, this means we will be using 24 images for every training step</li>
<li>Line 4: set <code>subdivisions=8</code>, the batch will be divided by 8 to decrease GPU VRAM requirements.</li>
<li>Line 603: set <code>filters=(classes + 5)*3</code> in our case <code>filters=75</code></li>
<li>Line 610: set <code>classes=20</code>, the number of categories we want to detect</li>
<li>Line 689: set <code>filters=(classes + 5)*3</code> in our case <code>filters=75</code></li>
<li>Line 696: set <code>classes=2</code>, the number of categories we want to detect</li>
<li>Line 776: set <code>filters=(classes + 5)*3</code> in our case <code>filters=75</code></li>
<li>Line 783: set <code>classes=20</code>, the number of categories we want to detect</li>
</ul>
<p><strong>Start the Trinaing with follow the step 2:</strong></p>
<p>train.txt파일을 루트 경로에 복사한 후 아래 명령어 실행</p>
<pre><code>~/YoloExample/darknet-v3$./darknet detector train cfg/voc.data cfg/yolov3-voc.cfg darknet53.conv.74</code></pre><h3 id="학습-시-주의사항"><a href="#학습-시-주의사항" class="headerlink" title="학습 시 주의사항:"></a>학습 시 주의사항:</h3><p>Weightss는 900 step이전에는 100 step마다 저장되지만,  그 이후엔 10,000 step당 저장됨. 필요시 <a href="https://github.com/pjreddie/darknet/issues/190" target="_blank" rel="noopener">link</a> 참고.</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li><a href="https://medium.com/@manivannan_data/how-to-train-yolov3-to-detect-custom-objects-ccbcafeb13d2" target="_blank" rel="noopener">https://medium.com/@manivannan_data/how-to-train-yolov3-to-detect-custom-objects-ccbcafeb13d2</a></li>
<li><a href="http://blog.naver.com/PostView.nhn?blogId=epfam126&logNo=221444115072&categoryNo=14&parentCategoryNo=0&viewDate=&currentPage=1&postListTopCurrentPage=1&from=search" target="_blank" rel="noopener">http://blog.naver.com/PostView.nhn?blogId=epfam126&amp;logNo=221444115072&amp;categoryNo=14&amp;parentCategoryNo=0&amp;viewDate=&amp;currentPage=1&amp;postListTopCurrentPage=1&amp;from=search</a></li>
<li><a href="https://pjreddie.com/darknet/yolo/" target="_blank" rel="noopener">https://pjreddie.com/darknet/yolo/</a></li>
<li><a href="https://medium.com/@manivannan_data/how-to-train-yolov2-to-detect-custom-objects-9010df784f36" target="_blank" rel="noopener">https://medium.com/@manivannan_data/how-to-train-yolov2-to-detect-custom-objects-9010df784f36</a></li>
</ul>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-19T11:30:00.000Z">2019-10-19</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    10 minutes read (About 1525 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/19/papers/SSD/">SSD</a>
            
        </h1>
        <div class="content">
            <h1 id><a href="#" class="headerlink" title></a></h1><h1 id="Single-Shot-Multibox-Detector"><a href="#Single-Shot-Multibox-Detector" class="headerlink" title="Single Shot Multibox Detector"></a>Single Shot Multibox Detector</h1><ul>
<li>Created: Oct 17, 2019 12:23 PM</li>
<li>Tags: 논문</li>
</ul>
<h1 id="0-Background"><a href="#0-Background" class="headerlink" title="0. Background"></a>0. Background</h1><ul>
<li>‘15.12 Archive 등재</li>
<li>Wei Liu, et. al</li>
</ul>
<h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><ul>
<li>Aspect Ratio, Scales를 feature map마다 별개로 둔 앵커 박스를 생성<ul>
<li>다양한 크기로 출현하는 물체를 인식하기 위함</li>
</ul>
</li>
<li>Single Neural Network의 출력은 앵커박스로 이산화</li>
<li>Prediction 시, 물체의 클래스 probability score와 앵커 박스로부터 조정될 크기 값을 출력</li>
<li>Input: 300x300) Pascal VOC 207 test : 74.3 mAP // 59 FPS@TitanX (Faster RCNN: 73.2mAP // 7 FPS, YOLO: 63.4mAP)</li>
</ul>
<h1 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h1><h2 id="Contribution"><a href="#Contribution" class="headerlink" title="Contribution"></a>Contribution</h2><ul>
<li>Single Shot Detector (YOLO) 보다 정확하고, slower techiques (Faster R-CNN)보다 빠른 실시간 물체인식 알고리즘 제안</li>
<li>고정된 Anchor-Box 기준으로 offset과 score를 추출하기 위해 Feature map에 Convolution Layer를 추가한 구조</li>
<li>서로 독립적인 Feature map에서 scale, aspect ratio를 바꿔서 정확도 향상시킴</li>
<li>Pascal VOC, COCO, ILSVRC 비교하여 성능&amp;속도 trade-off 향상됨을 입증함</li>
</ul>
<h1 id="2-The-Single-Shot-Detector-SSD"><a href="#2-The-Single-Shot-Detector-SSD" class="headerlink" title="2. The Single Shot Detector (SSD)"></a>2. The Single Shot Detector (SSD)</h1><p><img src="/images/SSD/Untitled-c2817ebb-d3bc-460c-8aac-35ff4d554929.png" alt></p>
<ul>
<li>4x4 &amp; 8x8 Feature Map에서 생성된 anchor-box 예시.</li>
<li>각각 빨간색, 파란색 anchor-box는 G.T.인 개, 고양이와 matching되어 positive anchorbox, 나머진 nregative anchorbox로 (배경으로) 학습이 됨</li>
<li>목적함수(Loss)는 confidance loss + localization loss의 합계</li>
</ul>
<h2 id="2-1-Model"><a href="#2-1-Model" class="headerlink" title="2-1. Model"></a>2-1. Model</h2><p><img src="/images/SSD/Untitled-2ced08bf-260b-4360-9fe9-a944f724eb2d.png" alt></p>
<ul>
<li>전반부 (BaseNet): 이미지로부터 높은 해상도의 feature map 추출<ul>
<li>VGG 16 사용</li>
</ul>
</li>
<li>후반부 (Detection Head): 물체 인식 출력 값 생성<ul>
<li>다양한 크기의 Feature-map: Output Stride 8, 16, 32, 64, 128, 256 사용</li>
<li>Convolution Predictor를 검출기로 활용함<ul>
<li><em>m</em> x <em>n</em> 크기의 Feature-map이 채널 크기가 <em>p</em>일 경우 <em>3</em> x <em>3</em> x <em>p</em> 개의 커널로 생성함</li>
<li>Grid 당 <em>k</em> anchor box일 경우, 출력 갯수는 <em>kmn</em>(<em>c+4</em>)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="2-2-Training"><a href="#2-2-Training" class="headerlink" title="2-2. Training"></a>2-2. Training</h2><ul>
<li><p>매칭 전략</p>
<ul>
<li>Highest jaccard overlap이 되는 앵커박스를 GT와 매칭</li>
<li>Threshold 0.5이상을 추가로 매칭</li>
<li>Recall을 높이기 위해(?)</li>
</ul>
</li>
<li><p>목표함수</p>
<ul>
<li>x는 matched index 0이면 unmatched, 1은 matched.</li>
<li>N은 matching된 앵커박스 갯수</li>
<li>c는 class probability</li>
</ul>
</li>
</ul>
<p><img src="/images/SSD/Untitled-4e515659-5bca-4ca3-bfd9-0af62d4b0970.png" alt></p>
<ul>
<li>위치 손실<ul>
<li>L1손실함수. 추정 박스(l)과 GT박스(g)간의 차이를 손실값으로 봄</li>
<li>앵커박스의 중심(dcx,dcy)와의 offset을 학습하도록 구현됨</li>
<li>너비(dwi), 높이(dhi)로 정규화시킴</li>
<li>모두 matching된 앵커박스만 손실값으로 봄</li>
</ul>
</li>
</ul>
<p><img src="/images/SSD/Untitled-e61fbee7-3a6c-4b8c-8dcc-2bce14a4212b.png" alt></p>
<ul>
<li>분류 손실</li>
<li>매칭된 앵커박스(positive)와 매칭 안된 앵커박스(negative)의 비율을 1:3 으로 학습</li>
<li>더 안정적으로 학습됨</li>
</ul>
<p><img src="/images/SSD/Untitled-496ecf18-2287-4940-b26c-b9b9d04b5346.png" alt></p>
<ul>
<li>Feature map의 grid에서 생성된 박스는 반드시 receptive field가 아님.</li>
<li>Scale값을 조정해서 앵커박스의 크기를 조절할 수 있음</li>
<li>m개의 feature map일 때, linear scaling rule 적용하여 scale 산출</li>
</ul>
<p><img src="/images/SSD/Untitled-e3670a91-f948-40bb-b98f-fb4151bdd440.png" alt></p>
<ul>
<li>다양한 위치, 크기의 물체를 견고히 인식하기 위해 data augmentation기법 적용<ul>
<li>Horizontal flip, Random patch, image distortion, etc</li>
</ul>
</li>
<li>Basenet은 vgg16 사용</li>
</ul>
<h1 id="3-Experimental-Results"><a href="#3-Experimental-Results" class="headerlink" title="3. Experimental Results"></a>3. Experimental Results</h1><h2 id="3-1-Pascal-VOC2007"><a href="#3-1-Pascal-VOC2007" class="headerlink" title="3-1. Pascal VOC2007"></a>3-1. Pascal VOC2007</h2><ul>
<li>Pascal voc 2012 test 결과 : 81.6mAP</li>
<li>COCO pretrained+512x512+voc12 trainval 학습셋으로 사용</li>
</ul>
<p><img src="/images/SSD/Untitled-e1ee7b3b-6000-442c-a74e-f1ec289fbd8d.png" alt></p>
<h2 id="3-2-Model-analysis"><a href="#3-2-Model-analysis" class="headerlink" title="3-2. Model analysis"></a>3-2. Model analysis</h2><ul>
<li>Data Augmentation에 의한 성능 향상이 앞도적으로 높았음 (8.8% mAP 향상)</li>
<li>Anchor Box의 모양을 다양화한게 성능 향상에 도움이 됨</li>
<li>Atrous Conv을 사용함으로써 성능은 유지하되, 속도 향상이 있었음 (20% 향상)</li>
</ul>
<p><img src="/images/SSD/Untitled-bdf55de2-1e9b-475f-989c-4b814dbbd0df.png" alt></p>
<ul>
<li>흰색은 True Positive, 파란색(Local error) 빨간색(Class error)은 True Negative  보라색은 False Positive</li>
<li>빨간 실선은 (IOU Threshold=0.5) Recall, 점선은 (IOU Threshold=0.1) Recall</li>
</ul>
<p><img src="/images/SSD/Untitled-58110c17-e27e-4787-a73f-3e0e4c2c4b7f.png" alt></p>
<ul>
<li>Localization error가 작음.</li>
<li>위치 regression잘 한다는 뜻</li>
<li>Classification error가 큼.</li>
<li>검출기 head를 localization과 공유하기 때문</li>
</ul>
<p><img src="/images/SSD/Untitled-6559f053-9124-4a42-847b-42d5c37e2949.png" alt></p>
<ul>
<li><p>작은 물체를 더 못 검출.</p>
<p>  <img src="/images/SSD/Untitled-6a03567b-98d5-404e-8fb8-104f21aecdf0.png" alt></p>
</li>
<li><p>작은 물체를 검출하는 layer가 한참후에 detection head로 들어오므로, 정보손실 발생하기 때문.</p>
</li>
</ul>
<h2 id="3-3-Pascal-VOC2012"><a href="#3-3-Pascal-VOC2012" class="headerlink" title="3-3. Pascal VOC2012"></a>3-3. Pascal VOC2012</h2><ul>
<li>COCO로  pretrained시킴</li>
<li>VOC07 train/val/test + VOC12 train/val 데이터를 학습용으로 사용</li>
<li>Faster RCNN보다 성능 높음</li>
</ul>
<p><img src="/images/SSD/Untitled-538d9e44-705b-4d4c-8e37-ba0cbc8488cd.png" alt></p>
<h2 id="3-4-COCO"><a href="#3-4-COCO" class="headerlink" title="3-4. COCO"></a>3-4. COCO</h2><ul>
<li>Pascal VOC와 비슷한 양상임.</li>
<li>작은 물체는 큰 물체에 비해 상대적으로 성능 향상이 적었음</li>
</ul>
<p><img src="/images/SSD/Untitled-57c8b169-4ad4-4795-b105-96d04f3ed6e3.png" alt></p>
<h2 id="3-5-Preliminary-ILSVRC-results"><a href="#3-5-Preliminary-ILSVRC-results" class="headerlink" title="3-5. Preliminary ILSVRC results"></a>3-5. Preliminary ILSVRC results</h2><ul>
<li>ILSVRC 2014 DET 데이터로 학습함</li>
<li>43.4mAP</li>
</ul>
<h2 id="3-6-Data-Augmentation-for-Small-Object-Accuracy"><a href="#3-6-Data-Augmentation-for-Small-Object-Accuracy" class="headerlink" title="3-6. Data Augmentation for Small Object Accuracy"></a>3-6. Data Augmentation for Small Object Accuracy</h2><ul>
<li>Random Crop은 Zoom In 효과를 줌</li>
<li>Zoom Out 효과를 주기 위해 기존 이미지를 16배 키운 사이즈로 중간값으로 나머지 부분 채운후 학습.</li>
</ul>
<p><img src="/images/SSD/Untitled-ea55bea1-5f63-41fc-acf3-1e61759f02f3.png" alt></p>
<ul>
<li>2-3 mAP 향상 있었음</li>
</ul>
<p><img src="/images/SSD/Untitled-5db3ed12-33bc-46c3-8f59-cf71061035f7.png" alt></p>
<p><img src="/images/SSD/Untitled-5c86dd11-ba73-4c2a-ad0d-da05a4132cb6.png" alt></p>
<h2 id="3-7-Inference-Time"><a href="#3-7-Inference-Time" class="headerlink" title="3-7. Inference Time"></a>3-7. Inference Time</h2><p><img src="/images/SSD/Untitled-47b2924d-8e22-4957-9c47-4e71454b89ce.png" alt></p>
<ul>
<li>Inference 시간을 효율적으로 하기 위해 Confidence Threshold 0.01 이하 Anchor Box는 걸름</li>
<li>그 이후 NMS를 IOU Threshold 0.5로 주고 Max Output Box 갯수를 200으로 함<ul>
<li>1.7ms 소요 (새로 추가한 Layer들은 2.4ms 소요)</li>
</ul>
</li>
</ul>
<h1 id="4-Related-Work"><a href="#4-Related-Work" class="headerlink" title="4. Related Work"></a>4. Related Work</h1><ul>
<li>Selective Search<ul>
<li>Image(R-CNN) 혹은 feature map(Fast-RCNN, MultiBox)을 crop한 후, Fixed size로 reshape하는 작업이 필요함.</li>
<li>여러개의 잠재 Bounding Box에 대해 별도의 Classifier, Regressor를 둠으로써 속도 저하</li>
</ul>
</li>
<li>Region Proposal Network<ul>
<li>Faster-RCNN에서 Anchor Box와 함께 처음 사용됨.</li>
<li>CNN의 출력 feature map을 RPN의 입력으로 사용하여 CNN을 통과시켜 자동으로 Region Propose함.</li>
<li>뒤에 Classifier, Regressor를 별도로 둠으로써 두 단계를 거침.<ul>
<li>Classifier, Regressor없이 바로 Classification하면 SSD와 같음.</li>
</ul>
</li>
</ul>
</li>
<li>One-shot Detector<ul>
<li>SSD에서 Anchor Box를 최말단 Feature map에서 1개의 Anchor Box 사용 → Overfeat</li>
<li>SSD에서 Anchor Box를 최말단 Feature map에서 grid당 1개의 Anchor Box 사용 → YOLO</li>
</ul>
</li>
</ul>
<h1 id="5-Conclusion"><a href="#5-Conclusion" class="headerlink" title="5. Conclusion"></a>5. Conclusion</h1><ul>
<li>Multiple feature map에서 multi-scale Convolutional BBox 사용함</li>
<li>SSD512는 Faster RCNN보다 3배 빠르면서 성능이 VOC, MSCOCO, ILSVRC 모두 좋았음</li>
<li>SSD300은 59 FPS로 실시간 물체인식 알고리즘임</li>
</ul>
<h3 id="-1"><a href="#-1" class="headerlink" title></a></h3><h1 id="6-Reference"><a href="#6-Reference" class="headerlink" title="6. Reference"></a>6. Reference</h1><ul>
<li><a href="https://towardsdatascience.com/r-cnn-fast-r-cnn-faster-r-cnn-yolo-object-detection-algorithms-36d53571365e" target="_blank" rel="noopener">https://towardsdatascience.com/r-cnn-fast-r-cnn-faster-r-cnn-yolo-object-detection-algorithms-36d53571365e</a></li>
</ul>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-10T07:24:00.000Z">2019-10-10</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 minutes read (About 1172 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/10/papers/YOLO v2/">YOLO v2</a>
            
        </h1>
        <div class="content">
            <h1 id="YOLO-v2"><a href="#YOLO-v2" class="headerlink" title="YOLO v2"></a>YOLO v2</h1><h2 id="0-Background"><a href="#0-Background" class="headerlink" title="0. Background"></a>0. Background</h2><ul>
<li>Archive: ‘16.12</li>
<li>CVPR 2017</li>
<li>Joesph Redmon</li>
</ul>
<h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><ul>
<li>SOTA training 기법 적용 (Multi-scale training)</li>
<li>Fast YOLO v2: 67 FPS, 76.8 mAP (YOLO v1: 45 FPS, 63.4 mAP)</li>
<li>YOLO v2: 40FPS, 78.6 mAP &gt;&gt; Better than SSD, FR-RCNN</li>
<li>ImageNet 200개 Class 중 44개의 class label만 가지고 19.3mAP –&gt; Unlabelled class (156개) </li>
</ul>
<h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h2><ul>
<li>일반화 가능한 물체 인식 알고리즘의 조건 : 빠르고, 정확하며, 수 많은 물체를 분류 가능해야 함.</li>
<li>Classfication Label 비용 &lt;&lt; Detection Label 비용 –&gt; 현실적으로 수 많은 물체에 대한 label data 확보 어려움</li>
<li>새로운 학습 기법 제안 : Joint Training + Dataset Combination<ul>
<li>Classifjication label을 계층적으로 물체를 분류함</li>
<li>기존에 수 많은 Classfication Data와 Object Detection Data를 함께 사용함</li>
<li>Classification Data는 vocabulary를 늘리고 robustness를 높여주기 위함.</li>
</ul>
</li>
</ul>
<h2 id="2-Better"><a href="#2-Better" class="headerlink" title="2. Better"></a>2. Better</h2><ul>
<li>Recall과 localization error가 여전히 RPN계열에 비해 낮음. 이 두 가지에 집중하여 네트워크 개발함</li>
</ul>
<p><img src="/images/YOLOv2/a.png" alt></p>
<ul>
<li>Batch norm: 다른 Regularization 방법 (ex. Drop Out)을 없애도 됨.  mAP 약 2% 상승</li>
<li>High Resolution Classifier: ImageNet Pretrain 시, 이미지 해상도를 2배 증가 (224 –&gt; 448)시켜 10에폭 돌림. mAP 약 4% 상승</li>
<li>Grid cell의 OD Head를 FC Layer에서 Convolution Layer로 변경함</li>
<li>물체의 위치 좌표를 직접 찾지 않고, Anchor Box간의 offset을 구함 (FR-CNN 따라함)</li>
<li>448 –&gt; 416으로 변경함. ($\because$ 홀수로 두어, 중심점이 생기도록 하기 위함)</li>
<li>최종 Feature Map 크기는 13x13</li>
<li>Anchor Box 갯수 98 에서 &gt;1,000 로 많아짐</li>
<li>Anchor Box를 사용 : mAP (69.5 –&gt; 69.2) / Recall (81% –&gt; 88%)</li>
<li>Anchor Box Size : K-mean clustering 이용함</li>
</ul>
<p><img src="/images/YOLOv2/b.png" alt></p>
<ul>
<li>K값에 따라 계산량 vs 성능 trade-off가 있음. </li>
<li>기존에 FR-CNN의 Hand-picked Anchor Box보다 우수함.</li>
</ul>
<p><img src="/images/YOLOv2/c.png" alt></p>
<ul>
<li><p><strong>Dimension Prediction: SSD, RPN계열이 쓰는 Offset을 추정하는 방식 ($\Delta x, \Delta y$) 과 달리, grid cell내로 제한된 영역에서 grid cell과의 상대적 위치 x, y값을 직접 추정함.</strong> </p>
<p><img src="/images/YOLOv2/d.png" alt></p>
<ul>
<li>Offset 방식: 초기에 불확실성이 있음 ($\because $이미지 내 어디든 존재 가능)</li>
<li>Grid cell방식: Anchor Box의 중심점을 grid cell별로 제한함으로 학습이 용이해짐.</li>
<li>성능이 약 <strong>5% mAP</strong> 상승</li>
</ul>
</li>
<li><p>Fine Grained Features: 13x13 Feature Map에 26x26 Feature Map을 Concat하여 박스를 추정함.</p>
<ul>
<li>1% mAP 상승</li>
<li>개인적으론 Feature Map의 Local한 정보를 살리지 못하는 방식이라고 생각됨. (특허 회피 같은 느낌?)</li>
</ul>
</li>
<li><p>Multi-Scale Training: 매 10 에폭마다 {320, 352, .., 608}의 이미지 사이즈 중 랜덤으로 입력 이미지 크기를 resize하여 학습.</p>
</li>
<li><p>효과: 다양한 해상도의 이미지로 학습함 –&gt; 이미지 해상도에 Robust??</p>
</li>
<li><p>288x288의 경우 90 FPS</p>
</li>
<li><p>608x80x의 경우  mAP &gt; FR-RCNN mAP</p>
</li>
</ul>
<p><img src="/images/YOLOv2/e.png" alt></p>
<ul>
<li>Further Experiments: Pascal VOC12, COCO eval 결과 모두 SOTA 동등 이상 성능</li>
</ul>
<p><img src="/images/YOLOv2/f.png" alt></p>
<p><img src="/images/YOLOv2/g.png" alt></p>
<ul>
<li>COCO의 경우, 물체의 크기의 분산이 큼 –&gt; K-clustering 효과 떨어짐으로 SSD에 비해 성능 저하 되는 것으로 사료?</li>
</ul>
<h2 id="3-Faster"><a href="#3-Faster" class="headerlink" title="3. Faster"></a>3. Faster</h2><p><img src="/images/YOLOv2/h.png" alt></p>
<ul>
<li>Darknet-19: Yolo v2에서 사용한 base network. (5.58 BOPs, 72.9%/91.2% Top-1/5 Accuracy)<ul>
<li>VGG-16: (30.69 BOPs, 90% Top-5 Accuracy)</li>
<li>3x3 Conv + 1x1 Conv, BN, Global Avg Pool, Channel x2 After Pooling, etc</li>
</ul>
</li>
<li>Classification Network 학습 : 224x224로 학습 후, 448x448로 10 에폭 학습</li>
<li>Detection Network 학습 : Classification Network에서 Final Conv Layer만 제거 후, 3개의 3x3 Conv w/ 1,024 Channel Layer 추가 + 1x1 Conv Layer 추가</li>
</ul>
<h2 id="4-Stronger"><a href="#4-Stronger" class="headerlink" title="4. Stronger"></a>4. Stronger</h2><ul>
<li><p>Detection과 Classification 전용 Dataset을 Jointly 학습하는 기법 제안함.</p>
<ul>
<li>Classification 레이블 데이터일 경우, Classification 관련 구조만 back-prop. 학습</li>
<li>Detection 레이블 데이터일 경우, 전체 구조 back-prop. 학습</li>
<li>Multi Label 기법 사용 ($\because$Detection Label, Classification Label 상호 베타적이지 않음. ex. ‘Dog’ ‘요크셔테리어’)</li>
</ul>
</li>
<li><p>계층적 구조를 띈 ‘WordTree’ 라벨링 제안</p>
</li>
</ul>
<p><img src="/images/YOLOv2/i.png" alt></p>
<p>$Pr(Norfolk terrier) = Pr(Norfolk terrier|terrier) * Pr(terrier | hunting dog) <em>…</em> Pr(mammal | animal) * Pr(animal | object)$</p>
<ul>
<li><p>Classification 데이터에서 $Pr(Object)=1$ Multi Labelling</p>
</li>
<li><p>Detection 데이터는 YOLO v2의 Objectness score를 활용.</p>
<ul>
<li>Depth Search Method로 최대 score &amp; threshold 넘는 layer까지 레이블을 취함</li>
</ul>
</li>
<li><p>COCO + Imagenet Combination</p>
</li>
</ul>
<p><img src="/images/YOLOv2/j.png" alt></p>
<ul>
<li><p>WordTree를 이용하여 mapping함</p>
</li>
<li><p>ImageNet의 9,000 class + MS COCO 80 class 데이터 모두 사용함</p>
</li>
<li><p>MS COCO 데이터를 over-sampling하여 비율을 4:1로 맞춰 학습함.</p>
</li>
<li><p>Anchor prior는 3개만 사용 (output의 사이즈를 고려함)</p>
</li>
<li><p>ImageNet Detection Task: (200개 class 중 44개만 학습에 사용됨.)</p>
<ul>
<li>19.7 mAP (156개 에 대해서는 15.6 mAP)</li>
<li>Weakly-supervised 방식임</li>
<li>여전히 실시간 보장함</li>
</ul>
</li>
<li><p>동물 종류는 잘 구분하나, ‘cloth’, ‘sunglasses’ 등 옷 종류는 잘 구분 못함.</p>
<ul>
<li>옷 종류가 구분하기 어려워 그런 것으로 사료됨</li>
</ul>
</li>
</ul>
<p><img src="/images/YOLOv2/k.png" alt></p>
<h2 id="5-Conclusion"><a href="#5-Conclusion" class="headerlink" title="5. Conclusion"></a>5. Conclusion</h2><ul>
<li>Detection &amp; Classification 데이터를 jointly 활용하는 Weakly-supervised 학습기법 제안<ul>
<li>비단 Detection Task뿐 아니라, Semantic Segmentation Task에도 활용할 예정</li>
</ul>
</li>
<li>ImageNet + COCO 데이터셋을 이용해 실시간, 범용 물체인식 알고리즘 YOLO V2 제안</li>
<li>Multi-scale Training 등 여러 학습기법 제안</li>
</ul>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-10T06:24:00.000Z">2019-10-10</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    11 minutes read (About 1602 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/10/papers/YOLO (You Look Only Once)/">YOLO v1</a>
            
        </h1>
        <div class="content">
            <h1 id="YOLO-You-Look-Only-Once"><a href="#YOLO-You-Look-Only-Once" class="headerlink" title="YOLO (You Look Only Once)"></a>YOLO (You Look Only Once)</h1><h2 id="0-Background"><a href="#0-Background" class="headerlink" title="0. Background"></a>0. Background</h2><p>‘15.06 Archive</p>
<ul>
<li>‘16.05 CVPR</li>
<li>Joseph Redmon, et. al.</li>
</ul>
<h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><ul>
<li>물체 인식 문제를 클래스 정보를 포함한 앵커 박스를 공간적으로 분리된 관점에서 회기 문제로 봄.</li>
<li>Single Network 관점에서 end-to-end로 학습하여 속도가 빠르고 최적화가 가능함. (Titan X: 45 FPS)</li>
<li>Fast Yolo는 155 FPS</li>
<li>SOTA인 R-CNN에 비해 localization 에러는 많으나, <u>False Positive가 적다.</u></li>
<li>당시 SOTA였던 DPM, R-CNN에 비해 일반화 효과가 뛰어남.</li>
</ul>
<h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h2><p><img src="/images/YOLO/a.png" alt="Fig 1."></p>
<ul>
<li>Deformable Parts Model (DPM)은 Sliding Window를 이용하여 모든 image에 대해 균일한 stride로 움직인다. (비효율적)</li>
<li>RCNN은 Region Proposal을 통과한 후, potential Bounding Box에 대해 Classifier를 통과시키고, post-processing을 통과시킨다. <ul>
<li>각각의 파트가 따로 학습되어, 학습이 용이하지 않고, 최적화가 어렵다.</li>
</ul>
</li>
<li>YOLO은 end-to-end로 한 번에 이미지 pixel domain에서 Box coordinate를 출력시킨다.<ul>
<li>이미지 Resize –&gt; Single CNN 통과 –&gt; Confidence 값을 기준치로 filtering </li>
</ul>
</li>
<li>다른 OD에 비해 장점<ul>
<li>학습이 용이하다. [Figure 1] <ul>
<li>물체 인식 문제 –&gt; 회귀 문제로 봤음. (Simple Pipeline)</li>
<li>Titan X 기준 45 FPS –&gt; 1 이미지 처리당  &lt; 25 [ms] latency –&gt; <u>real time</u></li>
</ul>
</li>
<li><strong>Global Context</strong>를 encode 함 –&gt; Background False Positive 줄어듦.<ul>
<li>DPM이나 R-CNN은 지엽적인 정보만 봄 –&gt; YOLO에 비해 Background에 대한 FP가 2배 이상 나타남</li>
</ul>
</li>
<li>일반화 효과가 뛰어남<ul>
<li>자연의 이미지에서 학습하고 Artwork으로 test하면, 다른 OD Network에 비해 좋은 성능이 나옴.<ul>
<li>새로운 Domain Data나 기대하지 않은 image에 더 좋은 성능이 날 것임</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="2-Unified-Detection"><a href="#2-Unified-Detection" class="headerlink" title="2. Unified Detection"></a>2. Unified Detection</h2><ul>
<li>R-CNN에서 3부분이 담당하던 기능을 Single DNN으로 일원화함</li>
<li>전체 이미지에서 처리한 feature를 사용하여 bounding box를 예측함<ul>
<li>Real-time</li>
<li>end-to-end Training (학습의 용이성)</li>
<li>High Precision (당시 real-time Detector보다 2배 이상 성능)</li>
</ul>
</li>
<li>S x S grid를 기준으로 물체와의 중심점의 차이값 ($\Delta x, \Delta y$), 전체 이미지에 대한 물체의 크기 ($w, h$) , 그리고 물체인 정도를 G.T. box와 grid의 IOU를 가지고 판단함.</li>
</ul>
<p>$$<br>Pr(Class|Object) * Pr(Object) * IOU_{pred}^{truth} =Pr(Class)*IOU_{pred}^{thres}<br>$$</p>
<p><img src="/images/YOLO/b.png" alt></p>
<ul>
<li>각 Grid 마다 <em>B</em>개의 Bounding Box를 생성함. (B=2 for YOLO v1)</li>
<li>Objectness Score는 GT와 Predicted Box간의 IOU를  가지고 판단함. ( if Objectness &gt; <em>thres</em> ? true : false )</li>
<li><em>Probability</em>는 <em>B</em>와 무관하게 <strong>Grid마다 1개씩만 추측한다.</strong> </li>
<li>최종 Output은 $$S \times S\times(B*5+C)$$이다.<ul>
<li>Pascal VOC에서 C=20, B=2, S=7을 사용함.</li>
</ul>
</li>
</ul>
<h3 id="2-1-Network-Design"><a href="#2-1-Network-Design" class="headerlink" title="2-1. Network Design"></a>2-1. Network Design</h3><p><img src="/images/YOLO/c.png" alt></p>
<ul>
<li><p>앞 단은 Conv Layer + 뒷 단은 FC Layer로 구성</p>
</li>
<li><p>YOLO는 24개의 Conv Layer, Fast YOLO는 9개의 Conv Layer로 구성</p>
</li>
<li><p>GoogleNet를 참조하여 Network를 Design. (단,  Inception모듈 대신 Simple하게 3x3 Conv 뒤에 1x1 Conv를 둠)</p>
</li>
</ul>
<h3 id="2-2-Training"><a href="#2-2-Training" class="headerlink" title="2-2. Training"></a>2-2. Training</h3><ul>
<li>ImageNet Pretrained Weight 사용 ( Top 1 accuracy: 88%)</li>
<li>Input Image : 224 x 224 –&gt; 448 x 448로 바꿈 ($\because$Image resolution이 높아야 precision이 향상)</li>
<li>$w, h$는 Image의 width, height로 정규화 ($\because$0~1 사이로 두기 위해)</li>
<li>$x, y$는 grid cell과의 offset으로 paramitarized</li>
<li>Leaky Relu 사용</li>
</ul>
<p><img src="/images/YOLO/x.png" alt></p>
<ul>
<li><p>Loss Function</p>
<p>  <img src="/images/YOLO/y.png" alt>    </p>
</li>
<li><p>$|_i$ 는 i번째 grid cell을 의미</p>
<ul>
<li>i번째 grid cell에 물체가 있는 경우만 classification penalty부여</li>
</ul>
</li>
<li><p>$|_{ij}^{obj}$ 는 i번째 grid cell의 j번째 bounding box를 의미</p>
<ul>
<li>i번째 grid cell j번째 bounding box가 물체가 있는 경우 localization penalty 부여</li>
</ul>
</li>
<li><p>$\lambda_{coord}=5, \lambda_{noobj}=0.5$ 사용</p>
<ul>
<li>localization error에 가중치를 줌으로써 noobj에 따른 gradient decent=0수렴 현상 방지</li>
</ul>
</li>
</ul>
<h3 id="2-3-Inference"><a href="#2-3-Inference" class="headerlink" title="2-3. Inference"></a>2-3. Inference</h3><ul>
<li>98개의 Box만 생성</li>
<li>크기가 큰 물체, grid cell의 경계면에 맞닿아 있는 물체의 경우 여러개의 grid로부터 물체검출이 됨.<ul>
<li>Non-Maximum Suppression을 통해 약 2~3% mAP 향상 가능</li>
</ul>
</li>
</ul>
<h3 id="2-4-Limitations-of-YOLO"><a href="#2-4-Limitations-of-YOLO" class="headerlink" title="2-4. Limitations of YOLO"></a>2-4. Limitations of YOLO</h3><ul>
<li>Grid cell당 2개의 물체, 1개의 클래스만 검출가능하기 때문에, 작고 군집된 물체를 잡는데 약함.</li>
<li>물체의 모양을 데이터 기반으로 학습하다 보니, Aspect Ratio (가로세로 비율), 물체의 형태가 새로운 물체의 경우 일반화 효과가 떨어짐.</li>
<li>Feature가 coarse하다 보니, 물체의 Localized resolution이 좋지 못함.</li>
<li>큰 물체, 작은 물체 모두 동일하게 작은 에러에 대한 loss를 부여함. 이 때문에 local error 발생 (IOU를 가지고 loss를 잡는게 더 좋을 것)</li>
</ul>
<h2 id="3-Comparison-to-Other-Detection-Systems"><a href="#3-Comparison-to-Other-Detection-Systems" class="headerlink" title="3. Comparison to Other Detection Systems"></a>3. Comparison to Other Detection Systems</h2><ul>
<li><p>Detection System은 모두 Robust한 Feature를 추출하고, Localizer 혹은 Classifier를 feature space를 통과시킨다.</p>
<ul>
<li>Sliding Window로 전체 Feature를 훑거나, 특정 region만 본다.</li>
</ul>
</li>
<li><p>Deformable Parts Model (DPM): Feature 추출, 영역 분류, 높은 score의 영역으로부터 BBox 검출 등의 단계를  disjoint하게 실행함</p>
</li>
<li><p>R-CNN: Selective Search를 이용하여 잠재적인 BBox 2,000개를 생성함. SVM은 박스 score를 내고, NMS 통과시킴</p>
</li>
<li><p>Other Fast Detectors: Selective Search를 Region Proposal로 대체함. <u>Computation 공유</u></p>
</li>
<li><p>Deep MultiBox: DNN을 이용한 Single Object Detection에 사용됨. ROI를 추론함. Class prediction (probability X)</p>
</li>
<li><p>OverFeat: Sliding Window를 사용하여 DNN으로 Localization을 수행. Global context 사용 못하는 한계</p>
</li>
<li><p>MultiGrasp: Grid 방식 도입. DNN으로 Single Object 검출에 사용. Class 추출 X, Multi Object X</p>
</li>
</ul>
<h2 id="4-Experiments"><a href="#4-Experiments" class="headerlink" title="4. Experiments"></a>4. Experiments</h2><ul>
<li>Pascal VOC 2007, 2012를 Fast-RCNN과 비교하며 실험 진행</li>
</ul>
<h3 id="4-1-Comparison-to-Other-Real-Time-Systems"><a href="#4-1-Comparison-to-Other-Real-Time-Systems" class="headerlink" title="4-1. Comparison to Other Real-Time Systems"></a>4-1. Comparison to Other Real-Time Systems</h3><ul>
<li>mAP &amp; speed Trade-off를 살펴봄</li>
</ul>
<p><img src="/images/YOLO/d.png" alt></p>
<ul>
<li>Fastest DPM: Selective Search를 static BBox proposal로 대체함</li>
<li>Real-time(30FPS) 만족하는 Detector중에서 최고성능임</li>
<li>Faster R-CNN은 YOLO에 비해 10 mAP가 좋으나, 실시간성이 보장이 안됨.</li>
</ul>
<h3 id="4-2-VOC-2007-Error-Analysis"><a href="#4-2-VOC-2007-Error-Analysis" class="headerlink" title="4-2. VOC 2007 Error Analysis"></a>4-2. VOC 2007 Error Analysis</h3><ul>
<li>Fast R-CNN vs. YOLO in Pascal VOC 2007</li>
</ul>
<p><img src="/images/YOLO/e.png" alt></p>
<ul>
<li>Yolo가 Localization error가 많았음</li>
<li>Fast R-CNN이 YOLO에 비해 False Positive가 약 3배 높음<ul>
<li>Correct: correct class &amp; IOU &gt; 0.5</li>
<li>Localization: correct class &amp; 0.1 &lt; IOU &lt; 0.5</li>
<li>Similar : class is similar &amp; IOU &gt; 0.1</li>
<li>Other: class is wrong &amp; IOU &gt; 0.1</li>
<li>Background: IOU &lt; 0.1 for any object</li>
</ul>
</li>
</ul>
<h4 id="4-3-Combining-Fast-R-CNN-and-YOLO"><a href="#4-3-Combining-Fast-R-CNN-and-YOLO" class="headerlink" title="4-3. Combining Fast R-CNN and YOLO"></a>4-3. Combining Fast R-CNN and YOLO</h4><ul>
<li>YOLO와 Fast-RCNN의 Ensemble 결과, Fast-RCNN은 약 2~3% mAP 향상이 있었음</li>
<li>이는 BaseNet만 바꾼 Fast-RCNN간의 Ensemble보다 월등히 향상된 결과임</li>
<li>($\because$YOLO는 Fast-RCNN과 다른 error 양상을 보이기 때문임)</li>
</ul>
<p><img src="/images/YOLO/f.png" alt></p>
<h4 id="4-4-VOC-2012-Results"><a href="#4-4-VOC-2012-Results" class="headerlink" title="4-4. VOC 2012 Results"></a>4-4. VOC 2012 Results</h4><ul>
<li>Fast-RCNN+YOLO조합은 ‘15.11월 당시 Top-4 달성함</li>
</ul>
<h4 id="4-5-Generalizability-Person-Detection-in-Artwork"><a href="#4-5-Generalizability-Person-Detection-in-Artwork" class="headerlink" title="4-5. Generalizability: Person Detection in Artwork"></a>4-5. Generalizability: Person Detection in Artwork</h4><ul>
<li>Fast-RCNN은 AP가 많이 낮아짐($\because$Selective search로 local context만 봄)</li>
<li>이에 반해 YOLO는 AP가 적게 낮아짐 ($\because$global context를 봄)</li>
</ul>
<p><img src="/images/YOLO/g.png" alt></p>
<h2 id="5-Real-Time-Detection-In-The-Wild"><a href="#5-Real-Time-Detection-In-The-Wild" class="headerlink" title="5. Real-Time Detection In The Wild"></a>5. Real-Time Detection In The Wild</h2><p><img src="/images/YOLO/h.png" alt></p>
<h2 id="6-Conclusion"><a href="#6-Conclusion" class="headerlink" title="6.  Conclusion"></a>6.  Conclusion</h2><ul>
<li>실시간을 보장하는 가장 빠른 일반화된 물체 인식 알고리즘임</li>
<li><a href="http://pjreddie.com/yolo/" target="_blank" rel="noopener">http://pjreddie.com/yolo/</a> 에 더 자세한 내용이 나와 있음</li>
</ul>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-30T11:43:10.000Z">2019-07-30</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    9 minutes read (About 1419 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/30/Typora-Hexo/">Typora-Hexo</a>
            
        </h1>
        <div class="content">
            <h2 id="Typora-Hexo를-이용하여-1시간-안에-Blog-글-올리기"><a href="#Typora-Hexo를-이용하여-1시간-안에-Blog-글-올리기" class="headerlink" title="Typora-Hexo를 이용하여 1시간 안에 Blog 글 올리기!"></a>Typora-Hexo를 이용하여 1시간 안에 Blog 글 올리기!</h2><hr>
<p>안녕하세요. 이제 Blog를 본격적으로 시작한지 일주일 밖에 안된 <strong>블룸베리</strong>입니다.</p>
<p>블로그를 시작하기로 마음먹고, 블로그에 글을 게제하기까지 <strong>우여곡절</strong>이 많았는데요, 이 글을 읽는 여러분께서는 조금이나마 시간을 아낄 수 있도록 글을 준비해보았습니다. (시간은 소중하니깐요..ㅎㅎ)</p>
<p>그럼 시작하겠습니다!</p>
<p>(참고로 이 글은 <a href="https://www.stand-firm-peter.me/2018/01/06/Start/" target="_blank" rel="noopener">https://www.stand-firm-peter.me/2018/01/06/Start/</a> 글을 바탕으로 제가 느낀점을 추가하여 작성한 글입니다!)</p>
<h2 id="1-블로그-url-정하기"><a href="#1-블로그-url-정하기" class="headerlink" title="1. 블로그 url 정하기"></a>1. 블로그 url 정하기</h2><p>제일 먼저, 블로그를 시작하려면 블로그 주소(url)를 받을 <strong>블로그 프레임워크</strong>를 정해야 해요. </p>
<p>저는 아래 세 블로그 프레임워크를 두고 고민해보았습니다.</p>
<ul>
<li>Tistory</li>
<li>Naver Blog </li>
<li>Github</li>
</ul>
<p>각자의 장단점이 있는데요, 저 같이 <strong>Tech Blog</strong>를 주로 작성하려고 하는 사람은 Github를 활성화해주면 향후 스펙용, 이직 준비용으로 좋아서 Github로 결정하게 됩니다. Github로 블로그 생성하기 궁금하신 분들은 위 링크를 참고해주세요.</p>
<p>이처럼 자신이 블로그 운영을 하는 목적에 따라 블로그 프레임워크를 정하시면 좋을 것 같습니다.</p>
<h2 id="2-정적-블로그-생성-툴-정하기"><a href="#2-정적-블로그-생성-툴-정하기" class="headerlink" title="2. 정적 블로그 생성 툴 정하기"></a>2. 정적 블로그 생성 툴 정하기</h2><p>WordPress와 같이 PHP를 자유자래로 사용하는 컴퓨터 공학도가 아닌 이상, 정적 생성기를 사용하는 것은 필수라고 본다. 정적 생성기로 무엇을 써도 무방하며, 본인이 사용하기 간편하고, contents를 효율적이고 깔끔하게 만들 수 있는 툴을 사용하면 된다.</p>
<ul>
<li>Jekyll : 시도해보았으나, ruby어로 구현된 문법에 친숙하지 못해 이내 포기함.</li>
<li>Hexo : 학교 후배가 사용하여 알게됨. node.js를 사용하며, 시작이 간편하고, 기본으로 제공하는 템플릿 적용이 원활하여 이로 결정하게 됨.</li>
<li>Gatsby : 웹 개발에 많이 사용하는 react를 사용한다고 함. (잘모름)</li>
</ul>
<h2 id="3-Markdown-Editor-정하기"><a href="#3-Markdown-Editor-정하기" class="headerlink" title="3. Markdown Editor 정하기"></a>3. Markdown Editor 정하기</h2><p>Github 블로그는 모드 textfile의 일종인 markdown 형식을 사용하여 글을 게제한다. 따라서, 효율적인 <strong>Markdown Editor 사용이 블로그 글 게시 활동에 핵심</strong>이라 해도 과언이 아니다. 두 가지 editor 중에 <strong>hotkey가 직관적</strong>이라 사용하기 쉽고, <strong>Image Insert</strong> 혹은 <strong>Math module 첨부가 용이</strong>한 typora라는 editor를 최종 선택하였다.</p>
<h3 id="3-1-Typora-Image-Insert-방법"><a href="#3-1-Typora-Image-Insert-방법" class="headerlink" title="3.1 Typora Image Insert 방법"></a>3.1 Typora Image Insert 방법</h3><p>Typora에 drag-and-drop으로 Image Insert하기 위해서는 몇 가지 typora setting을 건드려야 한다. </p>
<ol>
<li><p><strong>상대 경로</strong> 활성화 하기</p>
<p>좌측 상단에 ‘File-Preference-Images Insert 항목에서 ‘<strong>Use relative path if possible</strong>‘ 체크 박스를 활성화 한다.</p>
</li>
</ol>
<p><img src="/images/Typora-Hexo/1.png" alt></p>
<ol start="2">
<li><p>Copy Image file to folder 활성화 하기</p>
<p>이게 뭐하는거냐? Github에 사진을 업로드 하기 위해서는 반드시 서버 상에도 그 이미지를 업로드 해야 한다. 다시 말해, 단순히 <u>typora editor에 drag-and-drop한다고 해서 markdown 파일에 그림이 첨부되는게 아니다.</u></p>
<p>좀 복작하지만, 비슷한 효과(?)를 내기 위해 drag-and-drop했을 경우 설정된 경로로 drop한 이미지가 복사되는 기능을 활성화 한 것이라 볼 수 있다.</p>
<p>방법은 아래와 같다.</p>
<p>‘Edit - Image Tools - When Inesrt Local Image - Copy Image File to Folder’ 체크</p>
</li>
</ol>
<p><img src="/images/Typora-Hexo/3.png" alt></p>
<p>​    </p>
<ol start="3">
<li><p>저장 경로 설정하기</p>
<p>제일 중요한 부분이다! 이것 때문에 주말에 5시간동안 삽질을 했다.. 부디 그런일 마시길. </p>
<p>저장 경로를 이해하기 위해서 먼저 Hexo의 _config.yml파일을 살펴봐야 한다.</p>
<p><img src="/images/Typora-Hexo/4.png" alt></p>
</li>
</ol>
<p>   Github서버에 Markdown파일을 업로드하면 _config.yml파일에 <strong>permalink</strong>에서 지정한 형식으로 경로가 설정된다. 예를 들어 ‘Mobilenetv3.md’파일을 ‘나의 directory/source/Mobilenetv3.md ‘라는 곳에 생성했다고 하자. 실제로 deploy를 하게되면 github Web 주소 상에서는 <a href="https://BloomBerry.github.io/2019/07/28/Mobilenetv3">https://BloomBerry.github.io/2019/07/28/Mobilenetv3</a> 라는 주소로 index.html파일이 생성된다.</p>
<p>   이때 중요한 것은 동일한 경로, 예컨데 ‘나의 directory/source’에 Mobilenetv3라는 디렉토리를 만들고 그곳에 이미지를 넣는다고 생각하면 오산이다. Hexo는  <strong>themes</strong> 디렉토리 내부 경로만 참조하기 때문에 ‘themes/자신의 themes’ 경로에 이미지를 추가해줘야 한다. 예컨데 icarus를 사용한다면 ‘themes/icaurs/source/MobilenetV3’ 경로에 image를 추가해야 한다.</p>
<p>   이를 원활하게 하기 위해 <strong>typora-root-url</strong>과 <strong>typora-copy-images-to</strong>를 이용하면 drag-and-drop하여 Image를 추가할 수 있다. <u>주의할 점은 github에 deploy하기 전에 반드시 두 줄을 #으로 주석처리해야 한다.</u></p>
<p>   <img src="/images/Typora-Hexo/6.png" alt></p>
<ol start="4">
<li><p>[Optional] 글 별로 이미지를 관리하고 싶을 때</p>
<p>개인의 취향에 맞기겠지만, markdown별로 첨부한 이미지를 관리하고 싶을 때는 _config.yml에 <strong>post_asset_folder</strong>를 True로 만들어 주면 된다.</p>
<p>command 창에 hexo new New_Title.md라고 치면 typora-copy-images-to에서 설정한 경로에 md파일명과 동일한 디렉토리가 생성되는 것을 볼 수 있다.</p>
</li>
</ol>
<p>짜잔! 이 글역시 위 방법으로 만든 글이다. 이 글을 작성하는데 1시간 정도밖에 걸리지 않았다. 놀랍군!!</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-28T08:50:10.000Z">2019-07-28</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    14 minutes read (About 2113 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/28/papers/Mobilenetv3/">Mobilenetv3</a>
            
        </h1>
        <div class="content">
            <h2 id="Searching-for-Mobilenet-V3"><a href="#Searching-for-Mobilenet-V3" class="headerlink" title="Searching for Mobilenet V3"></a>Searching for Mobilenet V3</h2><h3 id="2019-05-09-Andrew-Howard-et-al-from-Google-AI"><a href="#2019-05-09-Andrew-Howard-et-al-from-Google-AI" class="headerlink" title="2019.05.09  Andrew Howard, et. al. from Google AI"></a>2019.05.09  Andrew Howard, et. al. from Google AI</h3><p><img src="/images/Mobilenetv3/a.png" alt></p>
<h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>Mobilenet V3는 hardware-aware NAS (Neural Architecture Search)기법인 <strong>NetAdapt</strong>을 사용하여 타겟하는 Mobile Device CPU에서 Latency를 줄임과 동시에 성능을 끌어올릴 수 있음을 보였다는데 의의가 있다.</p>
<p>본 논문에서는 Mobilenet V3를 Mobilenet V3-Large와 MobilenetV3-Small 두 가지 버전으로 나누어 <strong>Classification</strong>, <strong>Object Detection</strong>과 <strong>Semantic Segmentation</strong>을  수행하였다. Segmantic Segmentation의 경우는 LR-SPP (Lite Reduced-Spatial Pyramid  Pooling)라는 새로운 Decoder구조를 제안하였다. 실험 결과 MobilenetV3-Lage의  Classification은 MobilenetV2에 비해 ImageNet에서 Top-1 accuracy가 3.2% 향상됨과 동시에  Latency가 15% 감소하였다.(MobilenetV3-Small은 accuracy 4.6% 감소)</p>
<h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h2><p>이 논문은 모바일 디바이스 상에서 속도-성능간 trade-off를 최적화하기 위한 방안들을 다룬다.</p>
<ol>
<li>Complementary Search Engine : Latency &amp; Accuracy를 목표값으로 NAS (Neural Architecture Search)를 진행함.</li>
<li>모바일 셋팅에 최적화된 형태의 비선형 함수 <strong>H-swish</strong> 함수 사용</li>
<li>새로운 network 구조 제안 : Inverted Resudial + Squeeze-and-Excite</li>
<li>새로운 Segmentation Decoder (LR-SPP)</li>
</ol>
<h2 id="2-Related-Work"><a href="#2-Related-Work" class="headerlink" title="2. Related Work"></a>2. Related Work</h2><p>Accuracy-Latency 최적화를 위한 다양한 연구 결과를 요약하면 다음과 같다.</p>
<ol>
<li>SqueezeNet : 1x1 conv로 parameter 수를 줄임</li>
<li>Mobilenet V1 : Depthwise Separable conv로 channel-wise 곱셈 paremeter 를 줄임</li>
<li>Mobilenet V2 : Inverted Residual과 Linear Bottleneck을 사용하여 모바일 디바이스 상에서 효율적인  구조 채택</li>
<li>ShuffleNet : Group conv + Channel shuffle을 사용하여 MAC 를 줄임</li>
<li>CondenseNet : Group Conv에 사용될 connections를 학습함</li>
<li>ShiftNet : Shift operation을 point-wise conv와 사용하여 계산량이 많은 Spatial conv 대체</li>
</ol>
<h2 id="3-Efficient-Mobile-Building-Blocks"><a href="#3-Efficient-Mobile-Building-Blocks" class="headerlink" title="3. Efficient Mobile Building Blocks"></a>3. Efficient Mobile Building Blocks</h2><p>MnasNet은 Mobilenet V2의 bottleneck 기본 뼈대에서 squeeze-and-excite구조와 <strong>light attention module</strong>을 추가한 구조를 채택하고 있다. </p>
<p>Mobilenet V3는 MnasNet구조에서 <strong>swish non-linearity</strong>로 업데이트하였으며, fixed-point arithmetic구조에서 비효율적인 sigmoid를 <strong>hard sigmoid</strong> 구조를 채택하였다.</p>
<p><img src="/images/Mobilenetv3/b.png" alt></p>
<h2 id="4-Network-Search"><a href="#4-Network-Search" class="headerlink" title="4. Network Search"></a>4. Network Search</h2><p>Network Search는 network의 최적 Block를 찾는데 <strong>Platform-aware NAS</strong>와 Layer 수 최적화를 위한 <strong>NetAdapt 알고리즘</strong>을 사용한다.</p>
<h3 id="4-1-Platform-Aware-NAS-for-Block-wise-Search"><a href="#4-1-Platform-Aware-NAS-for-Block-wise-Search" class="headerlink" title="4.1 Platform-Aware NAS for Block-wise Search"></a>4.1 Platform-Aware NAS for Block-wise Search</h3><p>Platform-Aware NAS는 <em>[43] MnasNet: Platform-Aware Nerual Architecture Search for Mobile</em> 에서 다루고 있는 다중목적 보상함수를 사용하고 있다.<br>$$<br>ACC[m]×[LAT[m]/TAR]^w<br>$$<br>위 식은 Parto-optimal solution을 최적화하기 위해 Target Latency [<em>TAR]항을 분모로 모델 m에 대하여 Accuracy [ACC[m]]와 Latency[LAT[m]] 항을 사용한다. *w은 ACC와 *LAT</em> 간의 비율을 조정하는 항이다.</p>
<p>기존 논문 [43]에서는 <em>w</em>=-0.07를 사용하였지만, 본 논문에서는 작은 모델에 최적화하도록 <em>LAT\</em>에 weight를 더 주기 위해 w=-0.15를 주어 모델 m을 찾는다.</p>
<h3 id="4-2-NetAdapt-for-Layer-wise-Search"><a href="#4-2-NetAdapt-for-Layer-wise-Search" class="headerlink" title="4.2 NetAdapt for Layer-wise Search"></a>4.2 NetAdapt for Layer-wise Search</h3><p>NetAdapt는 *[46] Netadapt: Platform-Aware neural network adaptation for mobile applications*에서 다루고 있다. 요약하면,</p>
<ol>
<li><p>4.1절에서 다중목적 보상 NAS로 찾은 seed architecture로 시작한다.</p>
</li>
<li><p>각 step에 대해서</p>
<ol>
<li>새로운 <em>proposal</em>을 제안한다. 이때, proposal은 이전 step에서의 model에 비해 latency가 최소한계치 δ 만큼 감소시켜야 한다.<ul>
<li>δ=0.01L</li>
<li><em>L</em>= seed model의 Latency</li>
</ul>
</li>
<li>Pretrained weight 값으로 이전 step에서 사용한 model 중 truncated된 부분을 제외한 부분을  채택하며, 새로 생성된 layer는 randomly initialized시킨다. Proposal한 model들을 <em>T</em> step만큼 fine tuning을 거치고 accuracy를 생성한다.<ul>
<li><em>T</em>=10,000를 사용</li>
</ul>
</li>
<li>Evaluation Metric을 통해 proposal된 model들 중 최고의 proposal model을 찾는다.<ul>
<li>Eval Metric =<em>max</em> $$Δ|ACC|\overΔLAT$$<ul>
<li>Insight: Proposal이 discrete하기 때문에 trade-off curve slope를 최대화 함</li>
</ul>
</li>
<li>Proposal 시 변경 가능한 요소들<ul>
<li>Expansion Layer 크기</li>
<li>Bottleneck 크기</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li><p>Target Latency에 도달할 때까지 1~2 과정을 반복한다.</p>
</li>
</ol>
<h2 id="5-Network-Improvements"><a href="#5-Network-Improvements" class="headerlink" title="5. Network Improvements"></a>5. Network Improvements</h2><p>Network Search로 찾은 모델을 더 개선하기 위해 계산량이 많은 Layer를 변경하고, Quantization frinedly한 H-swish 비선형 함수를 제안한다.</p>
<h3 id="5-1-Redesigning-Expensive-Layers"><a href="#5-1-Redesigning-Expensive-Layers" class="headerlink" title="5.1 Redesigning Expensive Layers"></a>5.1 Redesigning Expensive Layers</h3><p>N기존  Network Search로 찾은 모델은 시작, 끝 Layer에서 유독 많은 계산량을 보였다. 이는 기존 Network  Search Method의 search space를 벗어나는 부분으로, 수동 tuning을 하여 Accuracy는 불변하고,  Latency를 줄여주었다.</p>
<ol>
<li>Final Layer</li>
</ol>
<p><img src="/images/Mobilenetv3/c.png" alt></p>
<ul>
<li><strong>7×7</strong> Conv Layer into <strong>Average pooling Layer</strong><ul>
<li>Same Accuracy</li>
<li>10 ms Latency (15% of running time) &amp; 30MAdds drop</li>
</ul>
</li>
</ul>
<ol start="2">
<li>Initial Layer channel<ul>
<li>32 channel into 16 channel</li>
<li>Non-linearity Function : swish or ReLU</li>
<li>Same Accuracy</li>
<li>3 ms Latency &amp; 10MAdds drop</li>
</ul>
</li>
</ol>
<h3 id="5-2-Nonlinearities"><a href="#5-2-Nonlinearities" class="headerlink" title="5.2 Nonlinearities"></a>5.2 Nonlinearities</h3><p>swish는 *[36] Searching for Activation Function*에서 제안한 비선형 함수로 ReLU를 대체하여 neural network의 accuracy를 향상시킨다. 이때, sigmoid σ(x)를 사용하기에 계산량의 증가가 있다.<br>$$<br>swish(x)=x⋅σ(x)<br>$$<br>sigmoid 함수 σ(x)의 계산량을 모바일 디바이스 상에서 줄이기 위한 두 가지 방법을 제안한다.</p>
<ol>
<li>h-swish</li>
</ol>
<p><img src="/images/Mobilenetv3/d.png" alt><br>$$<br>h−swish[x]=x\frac{ReLU6(x+3)}6<br>$$</p>
<ul>
<li>ReLU6는 어떤 Hardware / Software platform에서도 최적화가 가능하다.</li>
<li>Framework마다 Sigmoid 구현하는데 따른 numerical precision loss를 없앨 수 있다.</li>
<li>Quantized Sigmoid조차도 ReLU보다 느리다.</li>
</ul>
<p>위 세 가지 이유로, sigmoid 함수를 ReLU6로 바꾼다.</p>
<ol start="2">
<li>h-swish 후 배치</li>
</ol>
<p>비선형 함수로 인한 Latency는 뒤로 갈 수록 feature-map의 크기가 줄어듦에 따라 감소한다. 따라서, h-swish를 network의 뒤에만 배치하는 것이 더 효과적임을 실험적으로 구했다.</p>
<p><img src="/images/Mobilenetv3/e.png" alt></p>
<p>위에 언급한 최적화를 사용함에도 불구하고, h-swish는 여전히  latency가 존재한다. 그럼에도 accuracy-latency tradeoff가 긍정적이고, 향후 software optimize에 따른 성능 향상을 염두하여 Network의 뒷부분에 H-swish 비선형 함수를 사용한다.</p>
<ul>
<li>ReLU와 같은 linear 함수 사용 시, latency bottleneck은 메모리 접근 시 발생함. 효과적으로 메모리 배치 시 최적화 가능함.</li>
</ul>
<h4 id="5-2-1-Large-Squeeze-and-Excite"><a href="#5-2-1-Large-Squeeze-and-Excite" class="headerlink" title="5.2.1. Large Squeeze-and-Excite"></a>5.2.1. Large Squeeze-and-Excite</h4><ul>
<li>MnasNet 논문에서는 Squeeze-and-excite의 channel은 convolution layer의 채널 수에  상대적이었다. 하지만, 본 논문에서는 Expansion Layer의 1/4 사이즈로 고정시켰다. 이로 인한 accuracy는  향상한 반면, parameter는 소폭만 증가헀다.</li>
</ul>
<h3 id="5-3-Mobilenet-V3-Definition"><a href="#5-3-Mobilenet-V3-Definition" class="headerlink" title="5.3 Mobilenet V3 Definition"></a>5.3 Mobilenet V3 Definition</h3><p>Mobilenet V3 - Large 구조는 아래와 같다. (Mobilenet-Small은 위 Table 2 참고)*</p>
<p><img src="/images/Mobilenetv3/f.png" alt></p>
<h2 id="6-Experiments"><a href="#6-Experiments" class="headerlink" title="6. Experiments"></a>6. Experiments</h2><ul>
<li>비교 대상: Accuracy vs. Latecny &amp; MAdds (Multiply adds)</li>
<li>Training setup<ul>
<li>학습 환경 : 4x4 TPU Pod </li>
<li>Optimizer : RMSPropOptimizer with 0.9 Momentum (Tensorflow)</li>
<li>Batch size: 4,096 (128 images per chip)</li>
<li>Learning Rate 스케줄 : 0.01 initial rate of decaying 0.01 every 3 step</li>
<li>dropout : 0.8</li>
<li>l2 weight decay 1e-5</li>
<li>Exponential moving Average with 0.9999 decay</li>
<li>Batch Norm : average decay of 0.99</li>
</ul>
</li>
<li>Latency Measurement<ul>
<li>Hardware: Google Pixel phones</li>
<li>Framework: Tensorflow Lite Benchmark Tool</li>
<li>Core 갯수: Single</li>
</ul>
</li>
</ul>
<h3 id="6-1-Classification"><a href="#6-1-Classification" class="headerlink" title="6.1 Classification"></a>6.1 Classification</h3><ul>
<li>Dataset: ImageNet</li>
</ul>
<h3 id="6-2-Result"><a href="#6-2-Result" class="headerlink" title="6.2 Result"></a>6.2 Result</h3><p><img src="/images/Mobilenetv3/g.png" alt="Float32 결과"></p>
<ul>
<li>Mobilenet V3-Large 1.0 성능(Accuracy) &gt; SOTA Mobile Device Target 모델</li>
<li>Mobilenet V3-Small 0.75 지연시간(Latency) &lt; SOTA  Mobile Device Target 모델</li>
</ul>
<p><img src="/images/Mobilenetv3/h.png" alt="Quantization 결과"></p>
<p><img src="/images/Mobilenetv3/i.png" alt="Multiplier&amp;Resolution 변화에 따른 Accuracy vs. Latency TradeOff"></p>
<ul>
<li>이미지 해상도(Resolution)이 큰 Mobilenet-V3-Small이 Mobilenet-V3-Large보다 미세하게 성능이 우수함. 하지만, 이미지 해상도는 보통 결정된 값이기에 큰 의미는 없는듯</li>
</ul>
<h4 id="6-2-1-Ablation-Study"><a href="#6-2-1-Ablation-Study" class="headerlink" title="6.2.1 Ablation Study"></a>6.2.1 Ablation Study</h4><p><img src="/images/Mobilenetv3/j.png" alt="h-swish vs. ReLU"></p>
<ul>
<li>전체 Network를 H-swish로 대체하면 성능-속도 trade-off가 좋지 않음 <ul>
<li>성능 증가 (0.9%)</li>
<li>속도 감소 (-32%)</li>
</ul>
</li>
<li>Network 뒷부분만 교체하면 성능-속도 trade-off가 조아짐<ul>
<li>성능 증가(0.7%)</li>
<li>속도 감소 (-12%)</li>
</ul>
</li>
<li>크게 의미 없는 수치같음…</li>
</ul>
<h3 id="6-2-Detection"><a href="#6-2-Detection" class="headerlink" title="6.2 Detection"></a>6.2 Detection</h3><ul>
<li><p>Datset: MsCOCO</p>
</li>
<li><p>OD Architecture : SSD Lite (OS 16 ~ OS256)</p>
</li>
<li><p>OS 16 (C4) </p>
<ul>
<li>MobilenetV3-Lage 13th bottleneck block</li>
<li>MobileentV3-Small 9th bottleneck block</li>
</ul>
</li>
<li><p>OS 32 (C5)</p>
</li>
<li><p>After pooling layer (Small &amp; Large)</p>
</li>
<li><p>Reduced Channel into Half </p>
<ul>
<li>ImageNet의 클래스 수 (1,000)에 비해 MsCOCO의 클래스 수 (80)이 작기에 기존 channel 수는 redundunt하다고 여김</li>
<li>실제로 성능하락 없이 속도 향상(15%)만 가져옴</li>
<li>Mobilent V2와 동일한 성능 (22.0 mAP vs. 22.1 mAP)이면서 빠른 속도 (150 ms vs. 200 ms) 25% 속도 향상 보임</li>
</ul>
<p><img src="/images/Mobilenetv3/l.png" alt="채널 수 감소에 따른 속도&amp;성능 변화"></p>
</li>
</ul>
<h3 id="6-4-Semantic-Segmentation"><a href="#6-4-Semantic-Segmentation" class="headerlink" title="6.4 Semantic Segmentation"></a>6.4 Semantic Segmentation</h3><ul>
<li><p>Dataset : CityScapes Fine Images (mIOU)</p>
</li>
<li><p>Pretraiend Model 사용 x</p>
</li>
<li><p>Channel 절반 사용 (OD와 동일한 이유)</p>
<ul>
<li>CityScapes 클래스 19 &lt;&lt; ImageNet 클래스 1,000</li>
</ul>
</li>
<li><p>LR-ASPP (Lite Reduced design of Atrous Spatial Pyramid Pooling module)</p>
<ul>
<li>1x1 conv + Global Average Pooling Layer (+ Squeeze-and-Excite)<ul>
<li>Pooling Layer에 더 큰 stride, kernerl을 사용함</li>
</ul>
</li>
</ul>
</li>
<li><p>마지막 Layer에 Atrous conv.와 skip connection을 사용함.</p>
</li>
</ul>
<p><img src="/images/Mobilenetv3/m.png" alt="LR-ASPP 구조"></p>
<p><img src="/images/Mobilenetv3/o.png" alt="CityScapes Val Set Result"></p>
<p><img src="/images/Mobilenetv3/p.png" alt="CityScapes Test set Result"></p>
<ul>
<li>Mobilenet V3-Large: ESPNet v2, CCC2, ESPNetv1보다 각각 10.5%, 10.6%, 12.3% 성능 향상 + 무게 감소 (Madds)</li>
<li>Mobilenet V3-Small: ESPNet v2, CCC2, ESPNetv1보다 각각 1.7, 1.59, 2.24 배 속도 향상 + 6.2% 성능 향상</li>
</ul>
<h2 id="7-Conclusion"><a href="#7-Conclusion" class="headerlink" title="7. Conclusion"></a>7. Conclusion</h2><ul>
<li>Classificaiton, Object Detection, Semantic Segmentation 모두 좋은 결과를 보임</li>
<li>Mobile model의 차세대 Network 제시<ul>
<li>비선형 함수 h-swish 사용</li>
<li>양자화에 친화적인 Squeeze-and-Excite 사용</li>
<li>LR-ASPP 선보임.</li>
</ul>
</li>
</ul>

        </div>
        
        
        
    </div>
</div>








</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                        <img class="image is-128x128 has-mb-6" src="/images/avatar.png" alt="Joo Young Jang">
                    
                    
                    <p class="is-size-4 is-block">
                        Joo Young Jang
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Entrepreneur based on Engineering
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Seoul, South Korea</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <p class="title has-text-weight-normal">
                        8
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <p class="title has-text-weight-normal">
                        0
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <p class="title has-text-weight-normal">
                        8
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/BloomBerry" target="_blank">
                Follow</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Github" href="https://github.com/BloomBerry">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Facebook" href="https://web.facebook.com/JJY926">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Links
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://hexo.io" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Hexo</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">hexo.io</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://bloomberry.github.io" target="_blank">
                    <span class="level-left">
                        <span class="level-item">PPOffice</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">bloomberry.github.io</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Tag Cloud
        </h3>
        <a href="/tags/Arduino-Ethernet-Communicaiton-Arduino-Vibration-Sensor-Web-socket-communication/" style="font-size: 10px;">Arduino, Ethernet Communicaiton, Arduino, Vibration Sensor, Web socket communication</a> <a href="/tags/Mobilent-v3-AI-Object-Detection-Quantization-Tensorflow-Lite/" style="font-size: 10px;">Mobilent v3, AI, Object Detection, Quantization, Tensorflow Lite</a> <a href="/tags/SSD/" style="font-size: 10px;">SSD</a> <a href="/tags/Static-Generator-Hexo-Typora-Blog/" style="font-size: 10px;">Static Generator, Hexo, Typora, Blog</a> <a href="/tags/YOLO-v1/" style="font-size: 10px;">YOLO v1</a> <a href="/tags/YOLO-v2/" style="font-size: 10px;">YOLO v2</a> <a href="/tags/darknet-tutorial-Gradient-Harmonized-SSD-Tutorial/" style="font-size: 10px;">darknet, tutorial, Gradient-Harmonized-SSD Tutorial</a> <a href="/tags/darknet-tutorial-Yolo-V3/" style="font-size: 10px;">darknet, tutorial, Yolo V3</a>
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2020/02/25/2020 야구 암송대회 진동센서 사용법/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="2020 야구 암송대회 진동센서 사용법">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-25T14:26:10.000Z">2020-02-25</time></div>
                    <a href="/2020/02/25/2020 야구 암송대회 진동센서 사용법/" class="has-link-black-ter is-size-6">2020 야구 암송대회 진동센서 사용법</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/11/02/Gradient-Harmonized-SSD-Tutorial/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Gradient-Harmonized-SSD-Tutorial">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-02T02:37:00.000Z">2019-11-02</time></div>
                    <a href="/2019/11/02/Gradient-Harmonized-SSD-Tutorial/" class="has-link-black-ter is-size-6">Gradient-Harmonized-SSD-Tutorial</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/10/19/darknet-Yolo-V3-Tutorial/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="darknet으로 Yolo V3 학습 Tutorial">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-10-19T11:45:00.000Z">2019-10-19</time></div>
                    <a href="/2019/10/19/darknet-Yolo-V3-Tutorial/" class="has-link-black-ter is-size-6">darknet으로 Yolo V3 학습 Tutorial</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/10/19/papers/SSD/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="SSD">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-10-19T11:30:00.000Z">2019-10-19</time></div>
                    <a href="/2019/10/19/papers/SSD/" class="has-link-black-ter is-size-6">SSD</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/10/10/papers/YOLO v2/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="YOLO v2">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-10-10T07:24:00.000Z">2019-10-10</time></div>
                    <a href="/2019/10/10/papers/YOLO v2/" class="has-link-black-ter is-size-6">YOLO v2</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">February 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">November 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">October 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">July 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Arduino-Ethernet-Communicaiton-Arduino-Vibration-Sensor-Web-socket-communication/">
                        <span class="tag">Arduino, Ethernet Communicaiton, Arduino, Vibration Sensor, Web socket communication</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Mobilent-v3-AI-Object-Detection-Quantization-Tensorflow-Lite/">
                        <span class="tag">Mobilent v3, AI, Object Detection, Quantization, Tensorflow Lite</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SSD/">
                        <span class="tag">SSD</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Static-Generator-Hexo-Typora-Blog/">
                        <span class="tag">Static Generator, Hexo, Typora, Blog</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/YOLO-v1/">
                        <span class="tag">YOLO v1</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/YOLO-v2/">
                        <span class="tag">YOLO v2</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/darknet-tutorial-Gradient-Harmonized-SSD-Tutorial/">
                        <span class="tag">darknet, tutorial, Gradient-Harmonized-SSD Tutorial</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/darknet-tutorial-Yolo-V3/">
                        <span class="tag">darknet, tutorial, Yolo V3</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2020/02/25/2020 야구 암송대회 진동센서 사용법/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="2020 야구 암송대회 진동센서 사용법">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-25T14:26:10.000Z">2020-02-25</time></div>
                    <a href="/2020/02/25/2020 야구 암송대회 진동센서 사용법/" class="has-link-black-ter is-size-6">2020 야구 암송대회 진동센서 사용법</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/11/02/Gradient-Harmonized-SSD-Tutorial/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Gradient-Harmonized-SSD-Tutorial">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-02T02:37:00.000Z">2019-11-02</time></div>
                    <a href="/2019/11/02/Gradient-Harmonized-SSD-Tutorial/" class="has-link-black-ter is-size-6">Gradient-Harmonized-SSD-Tutorial</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/10/19/darknet-Yolo-V3-Tutorial/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="darknet으로 Yolo V3 학습 Tutorial">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-10-19T11:45:00.000Z">2019-10-19</time></div>
                    <a href="/2019/10/19/darknet-Yolo-V3-Tutorial/" class="has-link-black-ter is-size-6">darknet으로 Yolo V3 학습 Tutorial</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/10/19/papers/SSD/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="SSD">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-10-19T11:30:00.000Z">2019-10-19</time></div>
                    <a href="/2019/10/19/papers/SSD/" class="has-link-black-ter is-size-6">SSD</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/10/10/papers/YOLO v2/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="YOLO v2">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-10-10T07:24:00.000Z">2019-10-10</time></div>
                    <a href="/2019/10/10/papers/YOLO v2/" class="has-link-black-ter is-size-6">YOLO v2</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">February 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">November 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">October 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">July 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Arduino-Ethernet-Communicaiton-Arduino-Vibration-Sensor-Web-socket-communication/">
                        <span class="tag">Arduino, Ethernet Communicaiton, Arduino, Vibration Sensor, Web socket communication</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Mobilent-v3-AI-Object-Detection-Quantization-Tensorflow-Lite/">
                        <span class="tag">Mobilent v3, AI, Object Detection, Quantization, Tensorflow Lite</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SSD/">
                        <span class="tag">SSD</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Static-Generator-Hexo-Typora-Blog/">
                        <span class="tag">Static Generator, Hexo, Typora, Blog</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/YOLO-v1/">
                        <span class="tag">YOLO v1</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/YOLO-v2/">
                        <span class="tag">YOLO v2</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/darknet-tutorial-Gradient-Harmonized-SSD-Tutorial/">
                        <span class="tag">darknet, tutorial, Gradient-Harmonized-SSD Tutorial</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/darknet-tutorial-Yolo-V3/">
                        <span class="tag">darknet, tutorial, Yolo V3</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="BloomBerry&#39;s Tech Blog" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 Joo Young Jang&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>